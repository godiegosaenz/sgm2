<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="resumenBancos" pageWidth="150" pageHeight="120" whenNoDataType="AllSectionsNoDetail" columnWidth="150" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="2aa174c8-4088-4425-8fd8-8af0ed47af3c">
	<property name="ireport.zoom" value="4.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="ID_PAGO" class="java.lang.Long"/>
	<queryString>
		<![CDATA[select detalle.valor, detalle.tc_titular,
coalesce(banco_tc.descripcion,'') as tc_banco,
coalesce(banco_ch.descripcion,'') as ch_banco,
coalesce(banco_tr.descripcion,'') as tr_banco,
coalesce(detalle.tc_num_tarjeta,'') as tc_num_tarjeta,
coalesce(detalle.ch_num_cheque,'') as ch_num_cheque,
coalesce(detalle.nc_num_credito,'') as nc_num_credito,
coalesce(detalle.tr_num_transferencia,'') as tr_num_transferencia,
detalle.ch_num_cuenta, detalle.tipo_pago
from financiero.ren_pago_detalle as detalle
left join financiero.ren_entidad_bancaria as banco_tc on (banco_tc.id = detalle.tc_banco)
left join financiero.ren_entidad_bancaria as banco_ch on (banco_ch.id = detalle.ch_banco)
left join financiero.ren_entidad_bancaria as banco_tr on (banco_tr.id = detalle.tr_banco)
where (detalle.tipo_pago = 2 or detalle.tipo_pago = 3 or detalle.tipo_pago = 4 or detalle.tipo_pago = 5)
and detalle.pago = $P{ID_PAGO}]]>
	</queryString>
	<field name="valor" class="java.math.BigDecimal"/>
	<field name="tc_titular" class="java.lang.String"/>
	<field name="tc_banco" class="java.lang.String"/>
	<field name="ch_banco" class="java.lang.String"/>
	<field name="tr_banco" class="java.lang.String"/>
	<field name="tc_num_tarjeta" class="java.lang.String"/>
	<field name="ch_num_cheque" class="java.lang.String"/>
	<field name="nc_num_credito" class="java.lang.String"/>
	<field name="tr_num_transferencia" class="java.lang.String"/>
	<field name="ch_num_cuenta" class="java.lang.String"/>
	<field name="tipo_pago" class="java.lang.Long">
		<fieldDescription><![CDATA[1 = EFECTIVO
2 = TARJETA DE CRÉDITO
3 = NOTA DE CRÉDITO
4 = CHEQUE
5 = TRANSFERENCIA']]></fieldDescription>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="13">
			<textField pattern="$#,##0.00" isBlankWhenNull="true">
				<reportElement uuid="c1cf9418-e0d7-4aa8-8f77-9b7d887e425d" x="80" y="6" width="40" height="6" isPrintWhenDetailOverflows="true"/>
				<box>
					<bottomPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="Arial" size="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{valor} == null ? new BigDecimal("0.00") : $F{valor}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="5fb63cd2-53ce-410e-9002-1c67d1f36830" x="60" y="1" width="60" height="6" isPrintWhenDetailOverflows="true"/>
				<box>
					<topPen lineWidth="1.0"/>
				</box>
				<textElement>
					<font fontName="Arial" size="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tc_titular}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="da2d330f-8935-4783-b829-d255d2c4d09a" x="0" y="1" width="60" height="6" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true"/>
				<box>
					<topPen lineWidth="1.0"/>
				</box>
				<textElement>
					<font fontName="Arial" size="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tipo_pago} == 3L ? "NOTA DE CREDITO" : $F{tc_banco} + $F{ch_banco} + $F{tr_banco}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="f620cd40-7b23-44c0-a7bc-8e060c1ac6d4" x="0" y="6" width="40" height="6"/>
				<box>
					<bottomPen lineWidth="1.0"/>
				</box>
				<textElement>
					<font fontName="Arial" size="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tc_num_tarjeta} + $F{ch_num_cheque} + $F{nc_num_credito} + $F{tr_num_transferencia}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="f5fa1075-87f4-4c94-ad9d-b7ce6450999e" x="40" y="6" width="40" height="6"/>
				<box>
					<bottomPen lineWidth="1.0"/>
				</box>
				<textElement>
					<font fontName="Arial" size="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ch_num_cuenta}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
