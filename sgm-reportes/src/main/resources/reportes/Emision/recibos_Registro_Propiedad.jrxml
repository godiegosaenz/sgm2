<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="recibos_Registro_Propiedad" pageWidth="612" pageHeight="907" whenNoDataType="AllSectionsNoDetail" columnWidth="572" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="608bd10b-ecaa-4ab8-964d-f3636e3c1493">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\Users\\andres\\Documents\\NetBeansProjects\\sgm\\src\\main\\webapp\\reportes\\Emision\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="ID_LIQUIDACION" class="java.lang.Long">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="ruta_firmas" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\Users\\andres\\Documents\\NetBeansProjects\\sgm\\src\\main\\webapp\\css\\firmas\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="NUM_COMPROBANTE" class="java.lang.Long">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="cobros" class="java.util.List" isForPrompting="false"/>
	<queryString>
		<![CDATA[SELECT
     ren_pago.fecha_pago AS ren_pago_fecha_pago,
     ren_pago.valor AS ren_pago_valor,
     ren_pago.num_cajero AS ren_pago_cajero,
     ren_pago.num_comprobante AS ren_pago_comprobante,
     historico_tramites.id AS historico_tramite_id,
     ren_liquidacion."tipo_liquidacion" AS ren_liquidacion_tipo_liquidacion,
     ren_liquidacion."id" AS ren_liquidacion_id,
     ren_liquidacion."tramite" AS ren_liquidacion_tramite,
     ren_liquidacion."num_comprobante" AS ren_liquidacion_num_comprobante,
     ren_liquidacion."num_liquidacion" AS ren_liquidacion_num_liquidacion,
     ren_liquidacion."id_liquidacion" AS ren_liquidacion_id_liquidacion,
     ren_liquidacion."total_pago" AS ren_liquidacion_total_pago,
     ren_liquidacion."comprador" AS ren_liquidacion_comprador,
     comprador."es_persona" AS comprador_es_persona,
     comprador."nombres" AS comprador_nombres,
     comprador."apellidos" AS comprador_apellidos,
     comprador."ci_ruc" AS comprador_ci_ruc,
     comprador.razon_social AS comprador_razon_social,
     ren_liquidacion."vendedor" AS ren_liquidacion_vendedor,
     ren_liquidacion."costo_adq" AS ren_liquidacion_costo_adq,
     ren_liquidacion."cuantia" AS ren_liquidacion_cuantia,
     ren_liquidacion."fecha_contrato_ant" AS ren_liquidacion_fecha_contrato_ant,
     ren_liquidacion."saldo" AS ren_liquidacion_saldo,
     ren_liquidacion."estado_liquidacion" AS ren_liquidacion_estado_liquidacion,
     ren_liquidacion."coactiva" AS ren_liquidacion_coactiva,
     ren_liquidacion."codigo_local" AS ren_liquidacion_codigo_local,
     ren_liquidacion."predio" AS ren_liquidacion_predio,
     ren_liquidacion."local_comercial" AS ren_liquidacion_local_comercial,
     ren_liquidacion."observacion" AS ren_liquidacion_observacion,
     ren_liquidacion."anio" AS ren_liquidacion_anio,
     ren_liquidacion."num_reporte" AS ren_liquidacion_num_reporte,
     ren_liquidacion."otros" AS ren_liquidacion_otros,
     ren_tipo_liquidacion."nombre_titulo" AS ren_tipo_liquidacion_nombre_titulo,
     ren_tipo_liquidacion."nombre_transaccion" AS ren_tipo_liquidacion_nombre_transaccion,
     cat_predio."sector" AS cat_predio_sector,
     cat_predio."mz" AS cat_predio_mz,
     cat_predio."ciudadela" AS cat_predio_ciudadela,
     cat_predio."mzdiv" AS cat_predio_mzdiv,
     cat_predio."solar" AS cat_predio_solar,
     cat_predio."div1" AS cat_predio_div1,
     cat_predio."div2" AS cat_predio_div2,
     cat_predio."div3" AS cat_predio_div3,
     cat_predio."div4" AS cat_predio_div4,
     cat_predio."div5" AS cat_predio_div5,
     cat_predio."div6" AS cat_predio_div6,
     cat_predio."div7" AS cat_predio_div7,
     cat_predio."div8" AS cat_predio_div8,
     cat_predio."div9" AS cat_predio_div9,
     cat_predio."phv" AS cat_predio_phv,
     cat_predio."phh" AS cat_predio_phh,
     cat_predio."num_predio" AS cat_predio_num_predio,
     cat_predio."cdla" AS cat_predio_cdla,
     cat_predio."predio_raiz" AS cat_predio_predio_raiz,
     cat_predio."urb_sec" AS cat_predio_urb_sec,
     cat_predio."calle" AS cat_predio_calle,
     cat_predio."nom_comp_pago" AS cat_predio_nom_comp_pago,
     cat_predio."nombre_urb" AS cat_predio_nombre_urb,
     cat_predio."urb_mz" AS cat_predio_urb_mz,
     cat_predio."urb_solarnew" AS cat_predio_urb_solarnew,
    acl_user.usuario AS acl_user_usuario
FROM
     "financiero"."ren_tipo_liquidacion" ren_tipo_liquidacion RIGHT OUTER JOIN "financiero"."ren_liquidacion" ren_liquidacion ON ren_tipo_liquidacion."id" = ren_liquidacion."tipo_liquidacion"
     LEFT OUTER JOIN financiero.ren_pago ren_pago ON ren_liquidacion.id = ren_pago.liquidacion
     LEFT OUTER JOIN "app1"."cat_predio" cat_predio ON ren_liquidacion."predio" = cat_predio."id"
     LEFT OUTER JOIN "app1"."cat_ente" comprador ON ren_pago."contribuyente" = comprador."id"
     LEFT OUTER JOIN flow.historico_tramites historico_tramites ON historico_tramites.id_tramite = ren_liquidacion.tramite
LEFT OUTER JOIN app1.acl_user acl_user ON ren_pago.cajero = acl_user.id
WHERE
     ren_liquidacion."id" = $P{ID_LIQUIDACION}
 AND ren_liquidacion."estado_liquidacion" = 1
 AND ren_pago.num_comprobante = $P{NUM_COMPROBANTE}
LIMIT 1]]>
	</queryString>
	<field name="ren_pago_fecha_pago" class="java.sql.Timestamp"/>
	<field name="ren_pago_valor" class="java.math.BigDecimal"/>
	<field name="ren_pago_cajero" class="java.lang.String"/>
	<field name="ren_pago_comprobante" class="java.lang.Long"/>
	<field name="historico_tramite_id" class="java.lang.Long"/>
	<field name="ren_liquidacion_tipo_liquidacion" class="java.lang.Long"/>
	<field name="ren_liquidacion_id" class="java.lang.Long"/>
	<field name="ren_liquidacion_tramite" class="java.lang.Long"/>
	<field name="ren_liquidacion_num_comprobante" class="java.lang.Long"/>
	<field name="ren_liquidacion_num_liquidacion" class="java.lang.Long"/>
	<field name="ren_liquidacion_id_liquidacion" class="java.lang.String"/>
	<field name="ren_liquidacion_total_pago" class="java.math.BigDecimal"/>
	<field name="ren_liquidacion_comprador" class="java.lang.Long"/>
	<field name="comprador_es_persona" class="java.lang.Boolean"/>
	<field name="comprador_nombres" class="java.lang.String"/>
	<field name="comprador_apellidos" class="java.lang.String"/>
	<field name="comprador_ci_ruc" class="java.lang.String"/>
	<field name="comprador_razon_social" class="java.lang.String"/>
	<field name="ren_liquidacion_vendedor" class="java.lang.Long"/>
	<field name="ren_liquidacion_costo_adq" class="java.math.BigDecimal"/>
	<field name="ren_liquidacion_cuantia" class="java.math.BigDecimal"/>
	<field name="ren_liquidacion_fecha_contrato_ant" class="java.sql.Date"/>
	<field name="ren_liquidacion_saldo" class="java.math.BigDecimal"/>
	<field name="ren_liquidacion_estado_liquidacion" class="java.lang.Long"/>
	<field name="ren_liquidacion_coactiva" class="java.lang.Boolean"/>
	<field name="ren_liquidacion_codigo_local" class="java.lang.String"/>
	<field name="ren_liquidacion_predio" class="java.lang.Long"/>
	<field name="ren_liquidacion_local_comercial" class="java.lang.Long"/>
	<field name="ren_liquidacion_observacion" class="java.lang.String"/>
	<field name="ren_liquidacion_anio" class="java.lang.Integer"/>
	<field name="ren_liquidacion_num_reporte" class="java.lang.String"/>
	<field name="ren_liquidacion_otros" class="java.math.BigDecimal"/>
	<field name="ren_tipo_liquidacion_nombre_titulo" class="java.lang.String"/>
	<field name="ren_tipo_liquidacion_nombre_transaccion" class="java.lang.String"/>
	<field name="cat_predio_sector" class="java.lang.Integer"/>
	<field name="cat_predio_mz" class="java.lang.Integer"/>
	<field name="cat_predio_ciudadela" class="java.lang.Long"/>
	<field name="cat_predio_mzdiv" class="java.lang.Integer"/>
	<field name="cat_predio_solar" class="java.lang.Integer"/>
	<field name="cat_predio_div1" class="java.lang.Integer"/>
	<field name="cat_predio_div2" class="java.lang.Integer"/>
	<field name="cat_predio_div3" class="java.lang.Integer"/>
	<field name="cat_predio_div4" class="java.lang.Integer"/>
	<field name="cat_predio_div5" class="java.lang.Integer"/>
	<field name="cat_predio_div6" class="java.lang.Integer"/>
	<field name="cat_predio_div7" class="java.lang.Integer"/>
	<field name="cat_predio_div8" class="java.lang.Integer"/>
	<field name="cat_predio_div9" class="java.lang.Integer"/>
	<field name="cat_predio_phv" class="java.lang.Integer"/>
	<field name="cat_predio_phh" class="java.lang.Integer"/>
	<field name="cat_predio_num_predio" class="java.lang.Long"/>
	<field name="cat_predio_cdla" class="java.lang.Integer"/>
	<field name="cat_predio_predio_raiz" class="java.lang.Long"/>
	<field name="cat_predio_urb_sec" class="java.lang.Integer"/>
	<field name="cat_predio_calle" class="java.lang.String"/>
	<field name="cat_predio_nom_comp_pago" class="java.lang.String"/>
	<field name="cat_predio_nombre_urb" class="java.lang.String"/>
	<field name="cat_predio_urb_mz" class="java.lang.String"/>
	<field name="cat_predio_urb_solarnew" class="java.lang.String"/>
	<field name="acl_user_usuario" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="251" splitType="Stretch">
			<textField>
				<reportElement x="0" y="37" width="328" height="12" uuid="63a5370e-24a1-42a1-89d0-dcc25fcbf4a2"/>
				<textElement>
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{comprador_es_persona}?
($F{comprador_apellidos}==null?"": $F{comprador_apellidos})+ " " + ($F{comprador_nombres} == null? "" : $F{comprador_nombres})
: ($F{comprador_razon_social} == null? "" : $F{comprador_razon_social})]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="444" y="37" width="110" height="12" uuid="73083f46-2b6d-42ac-a665-42d2b043f36e"/>
				<textElement textAlignment="Right">
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ren_liquidacion_id_liquidacion}== null?"":$F{ren_liquidacion_id_liquidacion}]]></textFieldExpression>
			</textField>
			<textField pattern="dd" isBlankWhenNull="true">
				<reportElement x="240" y="4" width="50" height="15" uuid="74fb178c-488c-46c6-a78f-627004d03a95"/>
				<textElement textAlignment="Right">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ren_pago_fecha_pago}== null?"":$F{ren_pago_fecha_pago}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="444" y="4" width="107" height="15" uuid="f3f1d7d5-0b65-44b8-8fd0-d897c2fc27fe"/>
				<textElement textAlignment="Right">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ren_liquidacion_num_comprobante}== null?"":$F{ren_liquidacion_num_comprobante}]]></textFieldExpression>
			</textField>
			<textField pattern="MMMM" isBlankWhenNull="true">
				<reportElement x="192" y="4" width="45" height="15" uuid="ea389100-b93b-4389-8d81-460387845221"/>
				<textElement textAlignment="Right">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ren_pago_fecha_pago}== null?"":$F{ren_pago_fecha_pago}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy HH:mm" isBlankWhenNull="true">
				<reportElement x="0" y="231" width="90" height="12" uuid="8f835a84-98ef-46b0-a3d7-e45aca9925d4"/>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="327" y="37" width="117" height="12" uuid="b788d50d-5f4b-4b44-8419-102dfd85044f"/>
				<textElement textAlignment="Right">
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{historico_tramite_id}==null?"":$F{historico_tramite_id}]]></textFieldExpression>
			</textField>
			<image scaleImage="FillFrame" hAlign="Center" vAlign="Middle" onErrorType="Blank">
				<reportElement x="348" y="69" width="80" height="41" uuid="8e6dbe9b-84a6-465e-a5cd-74d9d2eff273"/>
				<imageExpression><![CDATA[$P{ruta_firmas}+"DirectorFinanciero.png"]]></imageExpression>
			</image>
			<image scaleImage="FillFrame" hAlign="Center" vAlign="Middle" onErrorType="Blank">
				<reportElement x="348" y="142" width="80" height="41" uuid="2d30b011-04f3-41a6-963a-3fdb519b1f72"/>
				<imageExpression><![CDATA[$P{ruta_firmas}+ "TesoreroMunicipal.png"]]></imageExpression>
			</image>
			<image scaleImage="FillFrame" hAlign="Center" vAlign="Middle" onErrorType="Blank">
				<reportElement x="348" y="206" width="80" height="41" uuid="cb29b28e-71af-492e-90ce-5a4d548cc0d4"/>
				<imageExpression><![CDATA[$P{ruta_firmas}+"JefeRentas.png"]]></imageExpression>
			</image>
			<textField isBlankWhenNull="true">
				<reportElement x="454" y="233" width="91" height="12" uuid="2a0ff41e-439b-4515-9aac-a55f0729066a"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{acl_user_usuario}== null?"":$F{acl_user_usuario}]]></textFieldExpression>
			</textField>
			<textField pattern="yyyy" isBlankWhenNull="true">
				<reportElement x="293" y="4" width="56" height="15" uuid="c1f52675-90f4-40b2-a3ae-b633874c8106"/>
				<textElement textAlignment="Right">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ren_pago_fecha_pago}== null?"":$F{ren_pago_fecha_pago}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="349" y="4" width="72" height="15" uuid="6619b3dc-b259-41fb-9cb3-6cdb6b6e3d29"/>
				<textElement textAlignment="Right">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["CAJA-" + ($F{ren_pago_cajero} == null? "01" : $F{ren_pago_cajero})]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="455" y="79" width="58" height="13" uuid="b737f501-fd61-44ac-811d-a531f6d85f80"/>
				<subreportParameter name="NUM_COMPROBANTE">
					<subreportParameterExpression><![CDATA[$F{ren_pago_comprobante}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ID_LIQUIDACION">
					<subreportParameterExpression><![CDATA[$P{ID_LIQUIDACION}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="TIPO_PAGO">
					<subreportParameterExpression><![CDATA[4]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "detalle_cobro.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement x="455" y="94" width="58" height="13" uuid="fc9f659b-c516-402b-914d-6feed8be5739"/>
				<subreportParameter name="NUM_COMPROBANTE">
					<subreportParameterExpression><![CDATA[$F{ren_pago_comprobante}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ID_LIQUIDACION">
					<subreportParameterExpression><![CDATA[$P{ID_LIQUIDACION}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="TIPO_PAGO">
					<subreportParameterExpression><![CDATA[3]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "detalle_cobro.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement x="455" y="109" width="58" height="13" uuid="a1fdf040-223d-496d-89f3-a4a80faae3d5"/>
				<subreportParameter name="NUM_COMPROBANTE">
					<subreportParameterExpression><![CDATA[$F{ren_pago_comprobante}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ID_LIQUIDACION">
					<subreportParameterExpression><![CDATA[$P{ID_LIQUIDACION}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="TIPO_PAGO">
					<subreportParameterExpression><![CDATA[2]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "detalle_cobro.jasper"]]></subreportExpression>
			</subreport>
			<subreport runToBottom="true">
				<reportElement x="455" y="63" width="58" height="13" uuid="1ff97498-b95f-480b-86df-2e1b76c6266a"/>
				<subreportParameter name="NUM_COMPROBANTE">
					<subreportParameterExpression><![CDATA[$F{ren_pago_comprobante}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ID_LIQUIDACION">
					<subreportParameterExpression><![CDATA[$P{ID_LIQUIDACION}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="TIPO_PAGO">
					<subreportParameterExpression><![CDATA[1]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "detalle_cobro.jasper"]]></subreportExpression>
			</subreport>
			<textField pattern="$#,##0.00" isBlankWhenNull="true">
				<reportElement x="455" y="142" width="100" height="20" uuid="c5ab681f-47f6-4377-807b-cc5c89130ebe"/>
				<textElement textAlignment="Right">
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ren_pago_valor}==null?"0.00":$F{ren_pago_valor}]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="455" y="124" width="58" height="13" uuid="a24e1f75-dbfb-4f7e-96c2-175856cf8d4e"/>
				<subreportParameter name="NUM_COMPROBANTE">
					<subreportParameterExpression><![CDATA[$F{ren_pago_comprobante}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ID_LIQUIDACION">
					<subreportParameterExpression><![CDATA[$P{ID_LIQUIDACION}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="TIPO_PAGO">
					<subreportParameterExpression><![CDATA[5]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "detalle_cobro.jasper"]]></subreportExpression>
			</subreport>
			<subreport>
				<reportElement x="0" y="97" width="316" height="13" uuid="1adb3ae1-d3a8-4685-bebe-f9e5410bc456"/>
				<subreportParameter name="rubro_municipio">
					<subreportParameterExpression><![CDATA[true]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="titulo_reporte">
					<subreportParameterExpression><![CDATA[$F{ren_tipo_liquidacion_nombre_titulo}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="liquidacion">
					<subreportParameterExpression><![CDATA[$P{ID_LIQUIDACION}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "rubrosEdificaciones.jasper"]]></subreportExpression>
			</subreport>
			<textField isBlankWhenNull="true">
				<reportElement x="1" y="189" width="129" height="22" isRemoveLineWhenBlank="true" uuid="f4e5b5cb-e7a0-4516-a60a-7e662b536851"/>
				<textElement>
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ren_liquidacion_observacion}==null?"":$F{ren_liquidacion_observacion}]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="165" y="218" width="151" height="13" uuid="d4bf1267-7a30-42b8-9073-ec9bc3d9f93b"/>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($P{cobros})]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "CobroDs.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
</jasperReport>
