<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Recibo_Comprobantes_Anulados" pageWidth="595" pageHeight="842" whenNoDataType="AllSectionsNoDetail" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="4c6517c4-6b3d-40b2-ae2b-f3a3dc3a88b7">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="DESDE" class="java.lang.String"/>
	<parameter name="HASTA" class="java.lang.String"/>
	<parameter name="LOGO" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\Users\\supergold\\Documents\\NetBeansProjects\\sgm\\src\\main\\webapp\\css\\homeIconsImages\\logo.jpg"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
     ren_pago.num_comprobante AS ren_pago_num_comprobante,
     to_char(ren_pago.fecha_pago,'DD/MM/YYYY') AS ren_pago_fecha_pago,
     ren_pago.valor AS ren_pago_valor,
     ren_liquidacion.comprador AS ren_liquidacion_comprador,
     cat_ente."ci_ruc" AS cat_ente_ci_ruc,
     cat_ente."nombres" AS cat_ente_nombres,
     cat_ente."apellidos" AS cat_ente_apellidos,
     cat_ente."es_persona" AS cat_ente_es_persona,
     cat_ente."razon_social" AS cat_ente_razon_social,
     acl_user.usuario AS acl_user_usuario,
     ren_tipo_liquidacion.nombre_titulo AS ren_tipo_liquidacion_nombre_titulo
FROM
     "financiero"."ren_tipo_liquidacion" ren_tipo_liquidacion RIGHT OUTER JOIN "financiero"."ren_liquidacion" ren_liquidacion ON ren_tipo_liquidacion."id" = ren_liquidacion."tipo_liquidacion"
LEFT OUTER JOIN "financiero"."ren_pago" ren_pago ON ren_pago.liquidacion = ren_liquidacion."id"
  LEFT OUTER JOIN "app1"."cat_ente" cat_ente ON ren_liquidacion."comprador" = cat_ente."id"
  LEFT OUTER JOIN app1.acl_user acl_user ON ren_pago.cajero = acl_user.id
 WHERE
      ren_liquidacion."estado_liquidacion" = 3
 AND to_char(ren_pago.fecha_pago,'DD/MM/YYYY') BETWEEN $P{DESDE} AND $P{HASTA}
group by
ren_tipo_liquidacion.nombre_titulo, ren_pago.num_comprobante, ren_pago.fecha_pago,
ren_pago.valor, ren_liquidacion.comprador, cat_ente.ci_ruc, cat_ente.nombres, cat_ente.apellidos,
cat_ente.es_persona, cat_ente.razon_social, acl_user.usuario

order by
to_char(ren_pago.fecha_pago,'DD/MM/YYYY')desc]]>
	</queryString>
	<field name="ren_pago_num_comprobante" class="java.lang.Long"/>
	<field name="ren_pago_fecha_pago" class="java.lang.String"/>
	<field name="ren_pago_valor" class="java.math.BigDecimal"/>
	<field name="ren_liquidacion_comprador" class="java.lang.Long"/>
	<field name="cat_ente_ci_ruc" class="java.lang.String"/>
	<field name="cat_ente_nombres" class="java.lang.String"/>
	<field name="cat_ente_apellidos" class="java.lang.String"/>
	<field name="cat_ente_es_persona" class="java.lang.Boolean"/>
	<field name="cat_ente_razon_social" class="java.lang.String"/>
	<field name="acl_user_usuario" class="java.lang.String"/>
	<field name="ren_tipo_liquidacion_nombre_titulo" class="java.lang.String"/>
	<variable name="ren_pago_valor_1" class="java.math.BigDecimal" resetType="Page" calculation="Sum">
		<variableExpression><![CDATA[$F{ren_pago_valor}]]></variableExpression>
	</variable>
	<group name="TITULO REPORTE">
		<groupExpression><![CDATA[$F{ren_tipo_liquidacion_nombre_titulo}]]></groupExpression>
		<groupHeader>
			<band height="15">
				<textField>
					<reportElement x="11" y="0" width="178" height="15" uuid="a9830b44-ca88-4cce-9cd3-6709dbff7221"/>
					<textElement>
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{ren_tipo_liquidacion_nombre_titulo}==null?"":$F{ren_tipo_liquidacion_nombre_titulo}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<title>
		<band height="108" splitType="Stretch">
			<textField>
				<reportElement x="85" y="12" width="444" height="42" uuid="9f31cde2-047a-478d-83fa-b06a46814e52"/>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="18"/>
				</textElement>
				<textFieldExpression><![CDATA["Gobierno Aut처nomo Decentralizado Municipal del Cant처n Samborond처n"]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="0" y="12" width="74" height="84" uuid="58858a25-687c-4af2-b29b-3f1b28c22b68"/>
				<imageExpression><![CDATA[$P{LOGO}]]></imageExpression>
			</image>
			<textField>
				<reportElement x="85" y="61" width="444" height="16" uuid="520c7cc9-4747-4881-858b-e212c58328ec"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["REPORTES DE COMPROBANTES ANULADOS"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="85" y="81" width="210" height="15" uuid="a81d9c20-3e54-461f-af7a-06433690ef7b"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["DESDE: "+$P{DESDE}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="319" y="81" width="210" height="15" uuid="5ac4b6a9-5523-4a9d-98d1-f4f5b66d6b39"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["HASTA: "+$P{HASTA}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<columnHeader>
		<band height="14">
			<staticText>
				<reportElement x="11" y="0" width="63" height="14" uuid="6617aeb9-7ec4-4deb-bd07-2ec10f5fcbb9"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[N째 INGRESO]]></text>
			</staticText>
			<staticText>
				<reportElement x="102" y="0" width="55" height="14" uuid="8a0920a0-fb23-4c6b-a6b5-54d28960f033"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[FECHA]]></text>
			</staticText>
			<staticText>
				<reportElement x="211" y="0" width="125" height="14" uuid="5092d5cb-3f30-4fa1-b3ec-5c2464c0a850"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[CONTRIBUYENTE]]></text>
			</staticText>
			<staticText>
				<reportElement x="490" y="0" width="55" height="14" uuid="d2b9fc41-99f3-41df-ad44-15ef69ee862c"/>
				<textElement textAlignment="Right">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[TOTAL]]></text>
			</staticText>
			<staticText>
				<reportElement x="375" y="0" width="100" height="14" uuid="122e1fa4-000d-46a6-a0e7-27162c725749"/>
				<textElement textAlignment="Center">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[USUARIO INGRESO]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="13" splitType="Stretch">
			<textField>
				<reportElement x="11" y="0" width="55" height="11" uuid="3f8ccf32-f83d-4166-a288-80c8374f38e1"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ren_pago_num_comprobante}==null?"0":$F{ren_pago_num_comprobante}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="102" y="2" width="55" height="11" uuid="2d6dd8a1-2ac3-4158-8820-cd002529601a"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ren_pago_fecha_pago}==null?"":$F{ren_pago_fecha_pago}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="211" y="1" width="125" height="11" uuid="0a5b027d-7b81-4356-a175-c582ce1bb345"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{cat_ente_es_persona}? ($F{cat_ente_apellidos} == null? "" : $F{cat_ente_apellidos}) + " " + ($F{cat_ente_nombres} == null? "" : $F{cat_ente_nombres}): ($F{cat_ente_razon_social} == null? "" : $F{cat_ente_razon_social})]]></textFieldExpression>
			</textField>
			<textField pattern="$ #,##0.00">
				<reportElement x="490" y="1" width="55" height="11" uuid="fff1504e-3c8f-46a2-9a73-93592c3747a1"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ren_pago_valor}==null?"0.00":$F{ren_pago_valor}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="385" y="1" width="82" height="11" uuid="db98fc58-c5ee-464a-93a6-237a83d1a74e"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{acl_user_usuario}==null?"":$F{acl_user_usuario}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="13" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="12">
			<textField pattern="$ #,##0.00">
				<reportElement x="490" y="0" width="55" height="11" uuid="a98987ac-1b30-4871-a921-be3ab181ac7d"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{ren_pago_valor_1}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="431" y="0" width="56" height="12" uuid="7e4183a2-4e55-4199-832c-b955718bfd04"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[TOTAL >>>>>]]></text>
			</staticText>
		</band>
	</pageFooter>
</jasperReport>
