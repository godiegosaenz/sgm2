<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="informeDiarioRecaudaciones" pageWidth="595" pageHeight="842" whenNoDataType="AllSectionsNoDetail" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="b04343ff-0567-4233-b157-a82eed9cf2ce">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#FFBFBF">
		<box>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#73B0E6">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#CFDBE6">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Crosstab Data Text" hAlign="Center"/>
	<subDataset name="dataset1" uuid="1dbe78f4-3a13-4c61-a7c4-fdd217db1873"/>
	<subDataset name="totalesMensuales" uuid="78984455-da14-4c13-9652-eb939bc93109">
		<parameter name="FECHA_DESDE" class="java.util.Date">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="FECHA_HASTA" class="java.util.Date">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[SELECT mes,
	CASE
		WHEN mes = 1 THEN 'ENERO'
		WHEN mes = 2 THEN 'FEBRERO'
		WHEN mes = 3 THEN 'MARZO'
		WHEN mes = 4 THEN 'ABRIL'
		WHEN mes = 5 THEN 'MAYO'
		WHEN mes = 6 THEN 'JUNIO'
		WHEN mes = 7 THEN 'JULIO'
		WHEN mes = 8 THEN 'AGOSTO'
		WHEN mes = 9 THEN 'SEPTIEMBRE'
		WHEN mes = 10 THEN 'OCTUBRE'
		WHEN mes = 11 THEN 'NOVIEMBRE'
		WHEN mes = 12 THEN 'DICIEMBRE'
	END AS "Mes Calendario",
 sum(valor) AS valor_total FROM (
SELECT extract('month' from pago.fecha_pago) as mes,   round(sum(rpr.valor),2)   as valor
FROM sgm_financiero.ren_rubros_liquidacion rrl
INNER JOIN sgm_financiero.ren_pago_rubro rpr ON rrl.id = rpr.rubro
INNER JOIN sgm_financiero.ren_pago pago ON pago.id = rpr.pago
WHERE pago.estado = TRUE  AND
rrl.cuenta_contable in ('11.01.02.', '11.02.05.', '11.02.06.', '11.02.07.',
'11.07.04.', '13.01.12.', '13.01.99.006', '13.01.99.008', '13.01.99.014', '13.01.99.010',
'13.01.99.015', '13.01.99.016', '13.01.99.017', '11.02.99.', '13.04.99.', '13.04.13.',
'13.04.09.', '17.03.01.', '13.01.99.005.', '11.02.01.', '13.01.03.', '13.01.14.','13.02.03.',
'13.01.99.001', '17.02.02.', '17.04.02.', '19.04.99.001', '212.11.', '13.01.12.17.',
'13.01.12.18.', '13.01.12.24.','13.01.06.01.', '13.01.06.02.','13.01.06.03.', '13.01.06.04.',
'13.01.06.05.', '13.01.06.06.','13.01.06.13.', '13.01.06.16.', '13.01.06.18.', '13.01.06.22.',
'13.01.06.24.', '13.01.11.01.', '13.01.11.03.', '13.01.11.04.', '17.04.99.02', '17.04.99.03',
'24.02.01.', '24.02.99.') AND pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA}
GROUP BY 1
UNION ALL
SELECT extract('month' from pago.fecha_pago) as mes, round(sum(rpr.valor),2) as valor
FROM sgm_financiero.ren_rubros_liquidacion rrl
INNER JOIN sgm_financiero.ren_pago_rubro rpr ON rrl.id = rpr.rubro
INNER JOIN sgm_financiero.ren_pago pago ON pago.id = rpr.pago
WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND pago.estado = TRUE  AND
rrl.id in (24, 7, 653, 654)
GROUP BY 1
UNION ALL
SELECT extract('month' from pago.fecha_pago) as mes,
       round(sum(pago.descuento),2) +
       round(sum(pago.recargo),2) +
       round(sum(pago.interes),2)
FROM sgm_financiero.ren_pago pago
WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND pago.estado = TRUE
GROUP BY 1) AS totales
GROUP BY 1
ORDER BY 1]]>
		</queryString>
		<field name="mes" class="java.lang.Double"/>
		<field name="Mes Calendario" class="java.lang.String"/>
		<field name="valor_total" class="java.math.BigDecimal"/>
		<variable name="total_recaudacion" class="java.math.BigDecimal" calculation="Sum">
			<variableExpression><![CDATA[$F{valor_total}]]></variableExpression>
		</variable>
	</subDataset>
	<parameter name="FECHA" class="java.util.Date">
		<defaultValueExpression><![CDATA[new java.util.Date()]]></defaultValueExpression>
	</parameter>
	<parameter name="ANIO" class="java.lang.Integer" isForPrompting="false">
		<defaultValueExpression><![CDATA[new java.lang.Integer(new java.text.SimpleDateFormat("yyyy").format(new java.util.Date()))]]></defaultValueExpression>
	</parameter>
	<parameter name="NUM_ACTA" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer("0")]]></defaultValueExpression>
	</parameter>
	<parameter name="USUARIO" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["ADMIN"]]></defaultValueExpression>
	</parameter>
	<parameter name="DETALLE" class="java.util.List">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="TOTAL" class="java.math.BigDecimal" isForPrompting="false"/>
	<parameter name="LOGO" class="java.lang.String">
		<defaultValueExpression><![CDATA[java.lang.System.getProperty("user.home") + "\\Documents\\NetBeansProjects\\sgm_new\\src\\main\\webapp\\css\\homeIconsImages\\logo.jpg"]]></defaultValueExpression>
	</parameter>
	<parameter name="BOMBEROS" class="java.util.List">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="FONDO_AJENOS" class="java.util.List">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="TOTAL_BOM" class="java.math.BigDecimal" isForPrompting="false"/>
	<parameter name="TOTAL_FON_AJ" class="java.math.BigDecimal" isForPrompting="false"/>
	<parameter name="FECHA_CIERRE" class="java.util.Date"/>
	<parameter name="SUBREPORT_TITLE" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="MUNICIPIO" class="java.lang.String"/>
	<parameter name="LOGO2" class="java.lang.String">
		<parameterDescription><![CDATA[]]></parameterDescription>
		<defaultValueExpression><![CDATA[java.lang.System.getProperty("user.home") + "\\Documents\\NetBeansProjects\\sgm_new\\src\\main\\webapp\\css\\homeIconsImages\\logo.jpg"]]></defaultValueExpression>
	</parameter>
	<parameter name="FECHA_DESDE" class="java.util.Date"/>
	<parameter name="FECHA_HASTA" class="java.util.Date"/>
	<queryString>
		<![CDATA[---PREDIOS URBANOS
SELECT 'PREDIOS URBANOS' as tipo, rrl.cuenta_contable as codigo, rrl.descripcion as descripcion, COALESCE(round(sum(rpr.valor),2), 0.00) as valor
FROM sgm_financiero.ren_rubros_liquidacion rrl
INNER JOIN sgm_financiero.ren_pago_rubro rpr ON rrl.id = rpr.rubro
INNER JOIN sgm_financiero.ren_pago pago ON pago.id = rpr.pago
INNER JOIN sgm_financiero.ren_pago_detalle detalle_pago ON detalle_pago.pago = pago.id
WHERE rrl.cuenta_contable = '11.02.01.'
AND detalle_pago.tipo_pago not in (6)
AND pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND pago.estado = TRUE
GROUP BY 1, 2 , 3
UNION ALL
SELECT 'PREDIOS URBANOS' as tipo, '11.02.01.' as codigo, 'DESCUENTO' as descripcion,
CASE WHEN sum(pago.descuento) > 0 THEN (-round(sum(pago.descuento),2))
ELSE COALESCE(round(sum(pago.descuento),2), 0.00)  END AS valor
FROM sgm_financiero.ren_pago pago
INNER JOIN sgm_financiero.ren_pago_detalle detalle_pago ON detalle_pago.pago = pago.id
WHERE
detalle_pago.tipo_pago not in (6) AND
pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND pago.estado = TRUE
GROUP BY  1, 2
UNION ALL
SELECT 'PREDIOS URBANOS' as tipo, '11.02.01.' as codigo, 'RECARGO' as descripcion,  round(sum(pago.recargo),2) as valor
FROM sgm_financiero.ren_pago pago
INNER JOIN sgm_financiero.ren_pago_detalle detalle_pago ON detalle_pago.pago = pago.id
WHERE
detalle_pago.tipo_pago not in (6) AND
pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND pago.estado = TRUE
GROUP BY  1, 2
UNION ALL
SELECT 'PREDIOS URBANOS' as tipo,  '11.02.01.' as codigo, 'INTERES POR MORA TRIBUTARIA' as descripcion,  round(sum(pago.interes),2) as valor
FROM sgm_financiero.ren_pago pago
INNER JOIN sgm_financiero.ren_pago_detalle detalle_pago ON detalle_pago.pago = pago.id
WHERE
detalle_pago.tipo_pago not in (6) AND
pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND pago.estado = TRUE
GROUP BY  1, 2
UNION ALL

-----COMPENSACIONES

SELECT 'COMPENSACIONES' as tipo, rrl.cuenta_contable as codigo, rrl.descripcion as descripcion, round(sum(rpr.valor),2) as valor
FROM sgm_financiero.ren_rubros_liquidacion rrl
INNER JOIN sgm_financiero.ren_pago_rubro rpr ON rrl.id = rpr.rubro
INNER JOIN sgm_financiero.ren_pago pago ON pago.id = rpr.pago
INNER JOIN sgm_financiero.ren_pago_detalle detalle_pago ON detalle_pago.pago = pago.id
WHERE rrl.cuenta_contable = '11.02.01.' AND detalle_pago.tipo_pago  in (6)
AND pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND pago.estado = TRUE
GROUP BY 1, 2 , 3
UNION ALL
SELECT 'COMPENSACIONES' as tipo, '' as codigo, 'DESCUENTO' as descripcion,
CASE
WHEN sum(pago.descuento) > 0 THEN (-round(sum(pago.descuento),2))
ELSE COALESCE(round(sum(pago.descuento),2), 0.00)  END AS valor
FROM sgm_financiero.ren_pago pago
INNER JOIN sgm_financiero.ren_pago_detalle detalle_pago ON detalle_pago.pago = pago.id
WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA}
AND detalle_pago.tipo_pago  in (6)
AND pago.estado = TRUE
GROUP BY  1, 2
UNION ALL
SELECT 'COMPENSACIONES' as tipo, '' as codigo, 'RECARGO' as descripcion,  round(sum(pago.recargo),2) as valor
FROM sgm_financiero.ren_pago pago
INNER JOIN sgm_financiero.ren_pago_detalle detalle_pago ON detalle_pago.pago = pago.id
WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA}
AND detalle_pago.tipo_pago  in (6)
AND pago.estado = TRUE
GROUP BY  1, 2
UNION ALL
SELECT 'COMPENSACIONES' as tipo,  '' as codigo, 'INTERES POR MORA TRIBUTARIA' as descripcion,  round(sum(pago.interes),2) as valor
FROM sgm_financiero.ren_pago pago
INNER JOIN sgm_financiero.ren_pago_detalle detalle_pago ON detalle_pago.pago = pago.id
WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA}
AND detalle_pago.tipo_pago  in (6)
AND pago.estado = TRUE
GROUP BY  1, 2
UNION ALL
-----RUSTICOS
SELECT 'PREDIAL RÚSTICOS' as tipo,  '11.02.02.' as codigo,
'IMPUESTO PREDIAL RURAL' as descripcion,  0.0 as valor
UNION ALL
SELECT 'PREDIAL RÚSTICOS' as tipo,  '11.02.02.' as codigo,
'DESCUENTOS' as descripcion,  0.00 AS valor
UNION ALL
SELECT 'PREDIAL RÚSTICOS' as tipo,  '11.04.01.' as codigo,
'RECARGOS (MULTA TRIBUTARIA)' as descripcion,  0.00 AS valor
UNION ALL
-----OTROS INGRESOS TRIBUTARIOS Y TASAS ADMINISTRATIVAS
SELECT 'OTROS INGRESOS TRIBUTARIOS Y TASAS ADMINISTRATIVAS' as tipo,  rrl.cuenta_contable as codigo, rrl.descripcion as descripcion,
CASE
    WHEN (SELECT count(*) FROM  sgm_financiero.ren_pago pago
	INNER JOIN sgm_financiero.ren_pago_rubro rpr ON rpr.pago = pago.id
	WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND rpr.rubro = rrl.id) > 0 THEN
		(SELECT COALESCE(round(sum(rpr.valor),2), 0.00)  FROM  sgm_financiero.ren_pago pago
		INNER JOIN sgm_financiero.ren_pago_rubro rpr ON rpr.pago = pago.id
		WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND rpr.rubro = rrl.id AND pago.estado = TRUE)
	ELSE 0.00 END AS valor
FROM sgm_financiero.ren_rubros_liquidacion rrl
WHERE  rrl.cuenta_contable in ( '11.01.02.', '11.02.05.', '11.02.06.', '11.02.07.',
'11.07.04.', '13.01.12.', '13.01.99.006', '13.01.99.008', '13.01.99.014', '13.01.99.010',
'13.01.99.015', '13.01.99.016', '13.01.99.017', '11.02.99.', '13.04.99.', '13.04.13.',
'13.04.09.', '17.03.01.', '13.01.99.005.')
GROUP BY 1, 2, 3, 4
UNION ALL
SELECT 'OTROS INGRESOS TRIBUTARIOS Y TASAS ADMINISTRATIVAS' as tipo,
 '13.01.99.007' as codigo, 'TASA ADMINISTRATIVA' as descripcion , COALESCE(round(sum(rpr.valor), 2), 0.00) as valor
FROM sgm_financiero.ren_rubros_liquidacion rrl
LEFT OUTER JOIN sgm_financiero.ren_pago_rubro rpr ON rpr.rubro = rrl.id
LEFT OUTER JOIN sgm_financiero.ren_pago pago ON rpr.pago = pago.id
WHERE  rrl.cuenta_contable = '13.01.99.007' AND  pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA}
UNION ALL
SELECT 'OTROS INGRESOS TRIBUTARIOS Y TASAS ADMINISTRATIVAS' as tipo,   '13.01.99.011' as codigo,
'SERVICIOS ADMINISTRATIVOS RURALES' as descripcion,   0.00 AS valor
---ORDER BY 2
UNION ALL
-----OTRAS TASAS
SELECT 'OTRAS TASAS' as tipo,
 rrl.cuenta_contable as codigo,
CASE
    WHEN rrl.descripcion LIKE '%ALCABALA%' THEN 'ALCABALAS OTROS CANTONES'
    WHEN rrl.descripcion LIKE '%BOMBEROS%' THEN 'CUERPO DE BOMBEROS URBANOS'
    WHEN rrl.descripcion LIKE '%MANABI%' THEN 'COLEGIOS MANABITAS'
    WHEN rrl.descripcion LIKE '%RURAL%' THEN 'VIVIENDA RURAL'
    END AS descripcion,
CASE
    WHEN (SELECT count(*) FROM  sgm_financiero.ren_pago pago
	INNER JOIN sgm_financiero.ren_pago_rubro rpr ON rpr.pago = pago.id
	WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND rpr.rubro = rrl.id ) > 0 THEN
		(SELECT COALESCE(round(sum(rpr.valor),2), 0.00)  FROM  sgm_financiero.ren_pago pago
		INNER JOIN sgm_financiero.ren_pago_rubro rpr ON rpr.pago = pago.id
		WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND rpr.rubro = rrl.id AND pago.estado = TRUE)
	ELSE 0.00 END AS valor
FROM sgm_financiero.ren_rubros_liquidacion rrl
WHERE  rrl.id in (24, 7, 653, 654)
GROUP BY 1, 2, 3, 4
UNION ALL
SELECT 'OTRAS TASAS' as tipo, ''   as codigo,
'5% CEN. SALUD  PECUARIA' as descripcion,   0.00 AS valor
UNION ALL
SELECT 'OTRAS TASAS' as tipo, ''   as codigo,
'CUERPO DE BOMBEROS RURALES' as descripcion,   0.00 AS valor

--ORDER BY 3
UNION ALL
-----INGRESOS NO TRIBUTARIOS
SELECT 'INGRESOS NO TRIBUTARIOS' tipo,
 rrl.cuenta_contable as codigo, rrl.descripcion as descripcion,
CASE
    WHEN (SELECT count(*) FROM  sgm_financiero.ren_pago pago
	INNER JOIN sgm_financiero.ren_pago_rubro rpr ON rpr.pago = pago.id
	WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND rpr.rubro = rrl.id) > 0 THEN
		(SELECT COALESCE(round(sum(rpr.valor),2), 0.00)  FROM  sgm_financiero.ren_pago pago
		INNER JOIN sgm_financiero.ren_pago_rubro rpr ON rpr.pago = pago.id
		WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND rpr.rubro = rrl.id AND pago.estado = TRUE)
	ELSE 0.00 END AS valor
FROM sgm_financiero.ren_rubros_liquidacion rrl
WHERE  rrl.cuenta_contable in ('13.01.03.', '13.01.14.','13.02.03.', '13.01.99.001',
'17.02.02.', '17.04.02.', '19.04.99.001', '212.11.')
GROUP BY 1, 2, 3, 4
UNION ALL
SELECT 'MATRICULACIÓN Y REVISIÓN VEHICULAR' as tipo,
-----MATRICULACIÓN Y REVISIÓN VEHICULAR
 rrl.cuenta_contable as codigo, rrl.descripcion as descripcion,
CASE
    WHEN (SELECT count(*) FROM  sgm_financiero.ren_pago pago
	INNER JOIN sgm_financiero.ren_pago_rubro rpr ON rpr.pago = pago.id
	WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND rpr.rubro = rrl.id) > 0 THEN
		(SELECT COALESCE(round(sum(rpr.valor),2), 0.00)  FROM  sgm_financiero.ren_pago pago
		INNER JOIN sgm_financiero.ren_pago_rubro rpr ON rpr.pago = pago.id
		WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND rpr.rubro = rrl.id AND pago.estado = TRUE)
	ELSE 0.00 END AS valor
FROM sgm_financiero.ren_rubros_liquidacion rrl
WHERE  rrl.cuenta_contable in ('13.01.12.17.', '13.01.12.18.', '13.01.12.24.','13.01.06.01.',
'13.01.06.02.','13.01.06.03.', '13.01.06.04.', '13.01.06.05.', '13.01.06.06.',
'13.01.06.13.', '13.01.06.16.', '13.01.06.18.', '13.01.06.22.', '13.01.06.24.',
'13.01.11.01.', '13.01.11.03.', '13.01.11.04.', '17.04.99.02', '17.04.99.03')
GROUP BY 1, 2, 3, 4
UNION ALL
-----INGRESOS DE CAPITAL
SELECT 'INGRESOS CAPITAL' as tipo,
rrl.cuenta_contable as codigo, rrl.descripcion as descripcion,
CASE
    WHEN (SELECT count(*) FROM  sgm_financiero.ren_pago pago
	INNER JOIN sgm_financiero.ren_pago_rubro rpr ON rpr.pago = pago.id
	WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND rpr.rubro = rrl.id) > 0 THEN
		(SELECT COALESCE(round(sum(rpr.valor),2), 0.00)  FROM  sgm_financiero.ren_pago pago
		INNER JOIN sgm_financiero.ren_pago_rubro rpr ON rpr.pago = pago.id
		WHERE pago.fecha_pago::DATE BETWEEN $P{FECHA_DESDE} AND $P{FECHA_HASTA} AND rpr.rubro = rrl.id AND pago.estado = TRUE)
	ELSE 0.00 END AS valor
FROM sgm_financiero.ren_rubros_liquidacion rrl
WHERE  rrl.cuenta_contable in ('24.02.01.', '24.02.99.')
GROUP BY 1, 2, 3, 4]]>
	</queryString>
	<field name="tipo" class="java.lang.String"/>
	<field name="codigo" class="java.lang.String"/>
	<field name="descripcion" class="java.lang.String"/>
	<field name="valor" class="java.math.BigDecimal"/>
	<variable name="valor_1" class="java.math.BigDecimal" resetType="Column" incrementType="Report" calculation="Sum">
		<variableExpression><![CDATA[$F{valor}]]></variableExpression>
	</variable>
	<variable name="valor_2" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{valor}]]></variableExpression>
	</variable>
	<variable name="TOTAL_GLOBAL" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{valor}]]></variableExpression>
	</variable>
	<variable name="TOTAL_VALOR_X_TIPO" class="java.math.BigDecimal" resetType="Group" resetGroup="TIPO_DIARIO" calculation="Sum">
		<variableExpression><![CDATA[$F{valor}]]></variableExpression>
		<initialValueExpression><![CDATA[]]></initialValueExpression>
	</variable>
	<group name="TIPO_DIARIO">
		<groupExpression><![CDATA[$F{tipo}]]></groupExpression>
		<groupHeader>
			<band height="27">
				<textField pattern="#,##0.00" isBlankWhenNull="true">
					<reportElement positionType="Float" x="7" y="2" width="543" height="22" uuid="342e3bc4-12bc-4ec4-b1db-13509b625ce5"/>
					<box>
						<pen lineWidth="1.0" lineStyle="Solid"/>
						<topPen lineWidth="1.0" lineStyle="Solid"/>
						<leftPen lineWidth="1.0" lineStyle="Solid"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid"/>
						<rightPen lineWidth="1.0" lineStyle="Solid"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{tipo}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="31">
				<staticText>
					<reportElement positionType="Float" x="363" y="1" width="108" height="22" uuid="00468ca7-e122-46ef-b78d-f95524f26466"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="9" isBold="true"/>
					</textElement>
					<text><![CDATA[SUBTOTAL]]></text>
				</staticText>
				<textField pattern="$ #,##0.00">
					<reportElement x="471" y="3" width="79" height="16" uuid="95cdbaf5-8473-4b39-a19d-52ba3c2efe96"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{TOTAL_VALOR_X_TIPO}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="88" splitType="Stretch">
			<line>
				<reportElement x="0" y="69" width="555" height="1" uuid="a31bb0cc-50b5-4582-a7dc-a9e1c84323b6"/>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement x="1" y="69" width="286" height="18" uuid="c696ecdc-eae0-4257-bb1b-8e8a2eb27371"/>
				<box>
					<topPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["FECHA DE RECAUDACIÓN DESDE: " + new java.text.SimpleDateFormat("dd/MM/yyyy").format($P{FECHA_DESDE})]]></textFieldExpression>
			</textField>
			<subreport>
				<reportElement x="1" y="0" width="555" height="69" uuid="e48f77ed-fed0-4b55-9f39-29e9ee6b06e3"/>
				<subreportParameter name="LOGO2">
					<subreportParameterExpression><![CDATA[$P{LOGO2}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="SUB_TITLE">
					<subreportParameterExpression><![CDATA["INFORME DIARIO DE RECAUDACIONES"]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="LOGO">
					<subreportParameterExpression><![CDATA[$P{LOGO}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_TITLE} + "titleReporte2.jasper"]]></subreportExpression>
			</subreport>
			<textField isBlankWhenNull="true">
				<reportElement x="287" y="69" width="266" height="18" uuid="5271adb4-161b-4af8-b384-a9d86e448e75"/>
				<box>
					<topPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["FECHA DE RECAUDACIÓN HASTA: " + new java.text.SimpleDateFormat("dd/MM/yyyy").format($P{FECHA_HASTA})]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="23" splitType="Stretch">
			<staticText>
				<reportElement x="7" y="6" width="119" height="16" uuid="eb626a98-6682-41cb-8366-2aaf5945a245"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[CODIGO]]></text>
			</staticText>
			<staticText>
				<reportElement x="471" y="6" width="79" height="16" uuid="ea1b7f35-b224-49a1-b2d4-0538f31e4bad"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[VALOR ]]></text>
			</staticText>
			<staticText>
				<reportElement x="126" y="6" width="345" height="16" uuid="d5dc775d-bc77-4667-9bf6-10ee5b59ae98"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[DETALLE]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="16" splitType="Prevent">
			<textField isBlankWhenNull="true">
				<reportElement x="7" y="0" width="119" height="14" uuid="683cdbe3-bf56-4076-8994-d9da5e4dec92"/>
				<textFieldExpression><![CDATA[$F{codigo}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="128" y="0" width="343" height="14" uuid="521ecfda-2317-4155-b85e-1102639f7899"/>
				<textFieldExpression><![CDATA[$F{descripcion}]]></textFieldExpression>
			</textField>
			<textField pattern="$ #,##0.00">
				<reportElement x="471" y="0" width="79" height="14" uuid="90d86c91-9fe1-4400-ac02-422261713f97"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{valor}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="59" splitType="Stretch">
			<textField>
				<reportElement x="432" y="29" width="75" height="15" uuid="0d2c12c3-e75a-4423-8bba-5820ad18a603"/>
				<textElement textAlignment="Right">
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Pag. "+$V{PAGE_NUMBER}+" de"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" isBlankWhenNull="true">
				<reportElement x="507" y="29" width="40" height="15" uuid="aa53ca02-3ddb-4e13-85b8-e98802204d4b"/>
				<textElement>
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="21" width="555" height="1" uuid="09293311-76f0-4995-b1c6-216415ff685e"/>
			</line>
			<staticText>
				<reportElement x="1" y="30" width="68" height="15" uuid="8ea7a9d6-c6d1-46e6-bf78-cb0a2fcfe732"/>
				<textElement textAlignment="Right">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[USUARIO: ]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="72" y="30" width="86" height="15" uuid="4662c9e5-7919-4c07-bc1f-ceb02ea1bbf8"/>
				<textElement>
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{USUARIO}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="186" y="30" width="53" height="15" uuid="3b2167ff-68ee-4a27-82d8-74416caee02c"/>
				<textElement textAlignment="Right">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[FECHA: ]]></text>
			</staticText>
			<textField pattern="dd MMMMM yyyy HH:mm:ss" isBlankWhenNull="true">
				<reportElement x="239" y="30" width="171" height="15" uuid="7a8e0e2d-16a5-4562-8591-858b537454cc"/>
				<textElement>
					<font size="9" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{FECHA_CIERRE}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="556" splitType="Stretch">
			<rectangle>
				<reportElement x="1" y="416" width="550" height="128" uuid="a50a0c18-5a67-4abd-b891-bc26df4a290a"/>
			</rectangle>
			<line>
				<reportElement x="4" y="437" width="546" height="1" uuid="e9323717-56cf-41c1-afab-9e702d831bb4"/>
			</line>
			<staticText>
				<reportElement x="4" y="418" width="160" height="20" uuid="53d09848-2386-45eb-b519-1affdfc94544"/>
				<textElement verticalAlignment="Middle">
					<font size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[OBSERVACIONES:]]></text>
			</staticText>
			<staticText>
				<reportElement x="21" y="512" width="122" height="30" uuid="ff8f4ef0-7735-4004-a34c-f80be17b3f73"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[ELABORADO SUPERVISORA DE CAJA]]></text>
			</staticText>
			<staticText>
				<reportElement x="167" y="512" width="111" height="30" uuid="89d34c47-ac4a-42c9-8180-a3090b8a281e"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[ES CONFORME TESORERIA]]></text>
			</staticText>
			<staticText>
				<reportElement x="287" y="512" width="95" height="30" uuid="e6aabbfb-3087-4bb8-b160-22f575b01e7b"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[REVISADO CONTADOR]]></text>
			</staticText>
			<staticText>
				<reportElement x="389" y="512" width="143" height="14" uuid="21762fd8-9faa-4fc4-87b0-e99dd517f712"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[APROBADO]]></text>
			</staticText>
			<staticText>
				<reportElement x="389" y="526" width="143" height="14" uuid="af70eabf-c5e5-4eef-a2a5-8acc28a28431"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[DIRECTOR FINANCIERO]]></text>
			</staticText>
			<componentElement>
				<reportElement key="table 1" style="table 1" x="0" y="0" width="553" height="362" uuid="70c32120-02f4-44f3-beb8-7513ad0b40ef"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="totalesMensuales" uuid="a315acaf-be6f-4e2f-b5f5-6fcb9bc0ff73">
						<datasetParameter name="FECHA_DESDE">
							<datasetParameterExpression><![CDATA[$P{FECHA_DESDE}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="FECHA_HASTA">
							<datasetParameterExpression><![CDATA[$P{FECHA_HASTA}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="299" uuid="72818421-1ad6-4eaa-b3bf-7652cd57b7d6">
						<jr:tableFooter height="30" rowSpan="1">
							<staticText>
								<reportElement x="12" y="10" width="212" height="20" uuid="0929e2a0-fd06-4915-8554-94a2348b3411"/>
								<textElement>
									<font size="12" isBold="true"/>
								</textElement>
								<text><![CDATA[TOTALES]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:columnHeader height="30" rowSpan="1">
							<staticText>
								<reportElement x="12" y="7" width="212" height="18" uuid="3050db48-4cfa-4386-9586-30b6420618ad"/>
								<textElement>
									<font size="12" isBold="true"/>
								</textElement>
								<text><![CDATA[Mes]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<textField>
								<reportElement x="14" y="6" width="212" height="20" uuid="fc750e1e-ef62-4816-86c4-ae3049b4a096"/>
								<textElement>
									<font size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{Mes Calendario}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="251" uuid="cd20a7de-f3dc-4be0-9fd9-c3b5002b6764">
						<jr:tableFooter height="30" rowSpan="1">
							<textField pattern="$ #,##0.00">
								<reportElement x="96" y="9" width="153" height="20" uuid="0ab2b1c6-d1d2-447e-9c94-f90e742c9212"/>
								<textElement textAlignment="Right">
									<font size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{total_recaudacion}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="6" width="185" height="18" uuid="3d46d138-62d3-4fce-a483-e2308899146c"/>
								<textElement textAlignment="Center">
									<font size="12" isBold="true"/>
								</textElement>
								<text><![CDATA[Totales]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<textField pattern="$ #,##0.00">
								<reportElement x="98" y="6" width="149" height="20" uuid="e10750cd-232f-4760-8f6d-8d8b2ff7874d"/>
								<textElement textAlignment="Right">
									<font size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{valor_total}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</summary>
</jasperReport>
