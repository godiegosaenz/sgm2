<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:comp="http://java.sun.com/jsf/composite/dialog">

    <p:fieldset legend="TIPO" toggleable="true">
        <h:panelGrid id="infoUrbanistica" columns="3" style="width: 100%">

            <comp:decorateForm id="sectorTipo" label="Sector:"
                               bind="#{fichaPredial.predio.sector}" readonly="true" />

            <h:panelGroup layout="block">
                <h:outputLabel for="espacio_urbano" value="Espacio Urbano:" class="DispBlock Wid100 FontBold"/>
                <p:selectOneMenu id="espacio_urbano" value="#{fichaPredial.predio.tipoConjunto}" effect="fade" converter="entityConverter"  styleClass="selectWidth170">
                    <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}" noSelectionOption="true"/>
                    <f:selectItems value="#{fichaPredial.tiposConjunto}" var="tconj" itemLabel="#{tconj.nombre}" itemValue="#{tconj}"/>
                    <p:ajax update="ciudadela" />
                </p:selectOneMenu>
            </h:panelGroup>
            <h:panelGroup layout="block">
                <h:outputLabel for="ciudadela" value="Nombre de Barrio o Ciudadela:" class="DispBlock Wid100 FontBold"/>
                <p:selectOneMenu id="ciudadela" value="#{fichaPredial.predio.ciudadela}" effect="fade" converter="entityConverter" filter="true" filterMatchMode="contains" styleClass="selectWidth170">
                    <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}"/>
                    <f:selectItems value="#{fichaPredial.ciudadelas}" var="cdla" itemLabel="#{cdla.nombre}" itemValue="#{cdla}"/>
                </p:selectOneMenu>
            </h:panelGroup>

        </h:panelGrid>
    </p:fieldset>
    <p:fieldset legend="UBICACIÓN UBANISTICA" toggleable="true"  >
        <h:panelGrid id="infoUrbanisticaLibertad" columns="4" style="width: 100%">

            <comp:decorateForm id="zona" label="Zona:"
                               bind="#{fichaPredial.predio.zona}" readonly="true"/>

            <comp:decorateForm id="sector" label="Sector / Etapa:"
                               bind="#{fichaPredial.predio.sector}" readonly="true" />

            <comp:decorateForm id="mz" label="Manzana:"
                               bind="#{fichaPredial.predio.mz}" readonly="true"/>

            <comp:decorateForm id="lote" label="Solar / Villa:"
                               bind="#{fichaPredial.predio.solar}" readonly="true"/>

            <comp:decorateForm id="piso" label="Planta:"
                               bind="#{fichaPredial.predio.piso}" readonly="true"/>

            <comp:decorateForm id="dpto" label="Departamento:"
                               bind="#{fichaPredial.predio.numDepartamento}"
                               next="tdatos:frmDatosPredio:tvUbicacion:exOficina:exOficina-form"/>

            <comp:decorateForm id="exOficina" label="Oficina:"
                               bind="#{fichaPredial.predio.extras.exOficina}"
                               next="tdatos:frmDatosPredio:tvUbicacion:exLocal:exLocal-form"/>

            <comp:decorateForm id="exLocal" label="Local:"
                               bind="#{fichaPredial.predio.extras.exLocal}"
                               next="tdatos:frmDatosPredio:tvUbicacion:exParqueo:exParqueo-form"/>

            <comp:decorateForm id="exParqueo" label="Parqueo:"
                               bind="#{fichaPredial.predio.extras.exParqueo}"
                               next="tdatos:frmDatosPredio:tvUbicacion:exBodega:exBodega-form"/>

            <comp:decorateForm id="exBodega" label="Bodega:"
                               bind="#{fichaPredial.predio.extras.exBodega}"
                               next="tdatos:frmDatosPredio:tvUbicacion:nombre_predio:nombre_predio-form"/>

            <comp:decorateForm id="nombre_predio" label="Nombre de Edificio:"
                               bind="#{fichaPredial.predio.nombreEdificio}"
                               next="tdatos:frmDatosPredio:tvUbicacion:exAcera:predio-acera-input"/>

            <comp:compInputSelect id="exAcera" label="Acera:"
                                  catalogo="predio-acera" defaultValue="1"
                                  bind="#{fichaPredial.predio.extras.exAcera}"
                                  next="tdatos:frmDatosPredio:tvUbicacion:exUbicacion:exUbicacion-form"/>

            <comp:decorateForm id="exUbicacion" label="Ubicacion:"
                               bind="#{fichaPredial.predio.catPredioS4.locManzana.valor}" 
                               next="tdatos:frmDatosPredio:tvUbicacion:calle_p:calle_p-form" readonly="true"/>

            <comp:decorateForm id="bloque" label="Bloque:"
                               bind="#{fichaPredial.predio.bloque}" readonly="true"/>



            <comp:decorateForm id="division" label="División:"
                               bind="#{fichaPredial.predio.divisionUrb}"
                               next="tdatos:frmDatosPredio:tvUbicacion:unidad:unidad-form"/>


            <comp:decorateForm id="unidad" label="Unidad:"
                               bind="#{fichaPredial.predio.unidad}" readonly="true"/>

            <comp:decorateForm id="coord_x" label="Coordenadas en X (Latitud):"
                               bind="#{fichaPredial.predio.coordx}" readonly="true" pattern="##############.####" />

            <comp:decorateForm id="coord_y" label="Coordenadas en Y (Longitud):"
                               bind="#{fichaPredial.predio.coordy}" readonly="true" pattern="##############.####"/>

            <!--            <comp:decorateForm id="valorm2" label="Valor M2 terreno:"
                                           bind="#{fichaPredial.valorMetro2}" readonly="true" pattern="##############.###"/>-->
        </h:panelGrid>
    </p:fieldset>
    <p:fieldset legend="Calles" toggleable="true">
        <h:panelGrid id="pgCalles" columns="4" style="width: 100%">
            <comp:decorateForm id="calle_p" label="Calle principal:" bind="#{fichaPredial.predio.calle}"
                               next="tdatos:frmDatosPredio:tvUbicacion:calle_s:calle_s-form"/>

            <comp:decorateForm id="calle_s" label="Intercepción principal:" bind="#{fichaPredial.predio.calleS}"
                               next="tdatos:frmDatosPredio:tvUbicacion:placa_d:placa_d-form"/>

            <comp:decorateForm id="placa_d" label="Intercepción secundaria:" bind="#{fichaPredial.predio.numeroVivienda}"
                               />
        </h:panelGrid>
    </p:fieldset>
</html>