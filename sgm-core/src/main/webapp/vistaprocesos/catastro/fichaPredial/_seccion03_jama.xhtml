<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:comp="http://xmlns.jcp.org/jsf/composite/dialog">

    <h:form id="frmCaracSolar">
        <p:growl id="msgsfrmCaracSolar"   />
        <div align="right">
            <p:remoteCommand id="drc3" name="rc3" actionListener="#{fichaPredial.guardarCaracteristicas(fichaPredial.caracteristicas)}"  rendered="#{fichaPredial.editable}" update="msgsfrmCaracSolar"/>
            <p:commandButton id="btnS3" value="Guardar"  icon="ui-icon-disk" update="frmSubirDocumentosDialog"
                             actionListener="#{fichaPredial.openDialog}" process="@form"  action="#{fichaPredial.setRemotteCommand('rc3')}" rendered="#{fichaPredial.editable}"/>
        </div>
        <p:fieldset legend="Caracteristicas" toggleable="true" class="MarBot10">
            <h:panelGrid columns="3" style="width: 100%">
                <comp:compInputSelect id="localizacion" label="Localizacion en Mz.:"
                                      catalogo="predio-loc_manzana" defaultValue="1"
                                      bind="#{fichaPredial.caracteristicas.locManzana}"
                                      next="tdatos:frmCaracSolar:topografia:predio-topografia-input"/>

                <comp:compInputSelect id="topografia" label="Topografia:"
                                      catalogo="predio-topografia" defaultValue="1"
                                      bind="#{fichaPredial.predio.topografiaSolar}"
                                      next="tdatos:frmCaracSolar:tipo_suelo:predio-tipo_suelo-input"/>

                <comp:compInputSelect id="tipo_suelo" label="Caract. Suelo:"
                                      catalogo="predio-tipo_suelo" defaultValue="1"
                                      bind="#{fichaPredial.predio.tipoSuelo}"
                                      next="tdatos:frmCaracSolar:constructividad:predio-constructividad_suelo-input"/>

                <comp:compInputSelect id="constructividad" label="Constructividad:"
                                      catalogo="predio-constructividad_suelo" defaultValue="1"
                                      bind="#{fichaPredial.predio.constructividad}"
                                      next="tdatos:frmCaracSolar:ocupacion:predio-estado_solar-input"/>

                <comp:compInputSelect id="ocupacion" label="Ocupación:"
                                      catalogo="predio-estado_solar" defaultValue="1"
                                      bind="#{fichaPredial.caracteristicas.estadoSolar}"
                                      next="tdatos:frmCaracSolar:formaSolar:predio-forma_solar-input"/>

                <comp:compInputSelect id="formaSolar" label="Forma del predio:"
                                      catalogo="predio-forma_solar" defaultValue="1"
                                      bind="#{fichaPredial.predio.formaSolar}"
                                      next="tdatos:frmCaracSolar:coberturaPredominante:predio-cobertura_predominante-input"/>

                <comp:compInputSelect id="coberturaPredominante" label="Cobertura predominante:"
                                      catalogo="predio-cobertura_predominante" defaultValue="1"
                                      bind="#{fichaPredial.caracteristicas.coberturaPredominante}"
                                      next="tdatos:frmCaracSolar:ecoRelevante:predio-ecosistema_relevante-input"/>

                <comp:compInputSelect id="ecoRelevante" label="Ecosistema Relevante:"
                                      catalogo="predio-ecosistema_relevante" defaultValue="1"
                                      bind="#{fichaPredial.caracteristicas.ecosistemaRelevante}"
                                      next="tdatos:frmCaracSolar:clasifSuelo:predio-clasificacion_suelo-input"/>

                <comp:compInputSelect id="clasifSuelo" label="Clasificación del suelo:"
                                      catalogo="predio-clasificacion_suelo" defaultValue="1"
                                      bind="#{fichaPredial.predio.clasificacionSuelo}"
                                      next="tdatos:frmCaracSolar:instHip:instHip-form"/>

                <comp:compInputSelect id="riesgos" label="Tipo de Riesgo:"
                                      catalogo="predio-riesgo" defaultValue="1"
                                      bind="#{fichaPredial.caracteristicas.riesgo}"
                                      next="tdatos:frmCaracSolar:permisoConstr"/>

                <h:panelGroup layout="block">
                    <h:outputLabel for="lbinstHip" value="Tiene Hipoteca :" class="DispBlock Wid100"  style="margin-bottom: 3px;"/>
                    <p:selectOneMenu id="lbinstHip" value="#{fichaPredial.caracteristicas.tieneHipoteca}" effect="fade" style="width: 170px;">
                        <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}"/>
                        <f:selectItem itemLabel="Si" itemValue="#{true}"/>
                        <f:selectItem itemLabel="No" itemValue="#{false}"/>
                    </p:selectOneMenu>
                </h:panelGroup>

                <comp:decorateForm id="instHip" label="Institución Financiera :"
                                   bind="#{fichaPredial.caracteristicas.instFinancieraHip}" />

            </h:panelGrid>
        </p:fieldset>
        <p:fieldset legend="Usos" toggleable="true" class="MarBot10">
            <comp:compInputSelect id="usoSolar" label="Uso del predio:" 
                                  catalogo="predio-uso_solar" defaultValue="1"
                                  bind="#{fichaPredial.predio.usoSolar}"
                                  next="tdatos:frmCaracSolar:instHip:instHip-form"/>

        </p:fieldset>
        <p:fieldset legend="Cerramiento" toggleable="true" class="MarBot10">
            <comp:compInputSelect id="cerramiento" label="Cerramiento del predio:"
                                  catalogo="predio-cerramiento" defaultValue="1"
                                  bind="#{fichaPredial.caracteristicas.cerramientoCtlg}"
                                  next="tdatos:frmCaracSolar:instHip:instHip-form"/>

        </p:fieldset>
        <p:fieldset legend="Afectación al Lote" toggleable="true" class="MarBot10">
            <comp:compInputSelect id="afectaLote" label="Afectación:"
                                  catalogo="predio-afectacion_lote" defaultValue="1"
                                  bind="#{fichaPredial.caracteristicas.afectacionLote}"
                                  next="tdatos:frmCaracSolar:instHip:instHip-form"/>
        </p:fieldset>

        <p:fieldset legend="Dimensiones del lote" toggleable="true" class="MarBot10">
            <p:panelGrid columns="2" layout="grid" style="width: 100%">
                <comp:decorateForm id="frt1" label="Frente :" bind="#{fichaPredial.caracteristicas.frente1}"
                                   floatValidate="true" pattern="##############.##"/>
                <comp:decorateForm id="ft1" label="Fondo :" bind="#{fichaPredial.caracteristicas.fondo1}"
                                   floatValidate="true" pattern="##############.##"/>
            </p:panelGrid>

        </p:fieldset>
        <p:fieldset legend="Obras Complementarias o Mejoras" toggleable="true" class="MarBot10">
            <h:panelGrid columns="3" style="width: 100%">
                <comp:compInputSelect id="tipoObraMejora" label="Tipo de Obra:"
                                      catalogo="predio-tipo_obra_mejora" defaultValue="1"
                                      bind="#{fichaPredial.caracteristicas.tipoObraMejora}"
                                      next="tdatos:frmCaracSolar:instHip:instHip-form"/>
                <comp:decorateForm id="areaMejora" label="Area de Mejora:" bind="#{fichaPredial.caracteristicas.areaMejora}"
                                   floatValidate="true" pattern="##############.##"/>

                <comp:compInputSelect id="estadoObraMejora" label="Estado:"
                                      catalogo="predio-bloque-estadoconservaci" defaultValue="1"
                                      bind="#{fichaPredial.caracteristicas.estadoMejora}"
                                      next="tdatos:frmCaracSolar:instHip:instHip-form"/>

                <comp:compInputSelect id="materialObraMejora" label="Material de Construcción:"
                                      catalogo="predio-material_construccion" defaultValue="1"
                                      bind="#{fichaPredial.caracteristicas.materialMejora}"
                                      next="tdatos:frmCaracSolar:instHip:instHip-form"/>
            </h:panelGrid>
        </p:fieldset>
        <p:fieldset legend="Conflicto" toggleable="true" class="MarBot10">
            <h:panelGrid columns="2" style="width: 100%">
                <h:panelGroup layout="block">
                    <h:outputLabel value="Lote en Conflicto :" for="loteConflic" class="DispBlock Wid100 FontBold"/>
                    <p:selectOneMenu id="loteConflic" value="#{fichaPredial.caracteristicas.loteEnConflicto}" effect="fade" styleClass="selectWidth170">
                        <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}"/>
                        <f:selectItem itemLabel="Si" itemValue="#{true}"/>
                        <f:selectItem itemLabel="No" itemValue="#{false}"/>
                    </p:selectOneMenu>
                </h:panelGroup>
                <h:panelGroup layout="block">
                    <h:outputLabel value="Observaciones de Lote en Conflicto :" for="loteConflicOb" class="DispBlock Wid100 FontBold"/>
                    <p:inputTextarea id="loteConflicOb" value="#{fichaPredial.caracteristicas.opbservLoteEnConflicto}" autoResize="false" style="width: 97%"/>
                </h:panelGroup>
            </h:panelGrid>
        </p:fieldset>
        <p:fieldset legend="Permiso Construcción y Adosamiento" toggleable="true" class="MarBot10">
            <h:panelGrid columns="4"  style="width: 100%">
                <h:outputText value="Tiene Permiso Construcción :" style="font-weight: bolder"/>
                <p:selectBooleanCheckbox value="#{fichaPredial.caracteristicas.tienePermisoConst}" />
                <h:outputText value="Tiene Adosamiento :" style="font-weight: bolder"/>
                <p:selectBooleanCheckbox value="#{fichaPredial.caracteristicas.tieneAdosamiento}" />
                <h:outputText value="Tiene Retiros :" style="font-weight: bolder"/>
                <p:selectBooleanCheckbox value="#{fichaPredial.caracteristicas.tieneRetiros}" />
            </h:panelGrid>
        </p:fieldset>
    </h:form>
</html>