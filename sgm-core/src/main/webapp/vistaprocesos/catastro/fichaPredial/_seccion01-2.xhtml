<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:comp="http://java.sun.com/jsf/composite/dialog">

    <p:fieldset legend="Ubicacion" toggleable="true">
        <h:panelGrid id="infoUrbanistica" columns="4" style="width: 100%" class="Responsive100 Responsive">

            <h:panelGroup layout="block">
                <h:outputLabel for="espacio_urbano" value="Espacio Urbano:" class="DispBlock Wid100 FontBold"/>
                <p:selectOneMenu id="espacio_urbano" value="#{fichaPredial.predio.tipoConjunto}" effect="fade" converter="entityConverter" styleClass="selectWidth170">
                    <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}" noSelectionOption="true"/>
                    <f:selectItems value="#{fichaPredial.tiposConjunto}" var="tconj" itemLabel="#{tconj.nombre}" itemValue="#{tconj}"/>
                    <p:ajax update="ciudadela" />
                </p:selectOneMenu>
            </h:panelGroup>
            <h:panelGroup layout="block">
                <h:outputLabel for="ciudadela" value="Nombre de Barrio o Ciudadela:" class="DispBlock Wid100 FontBold"/>
                <p:selectOneMenu id="ciudadela" value="#{fichaPredial.predio.ciudadela}" effect="fade" converter="entityConverter" filter="true" filterMatchMode="contains" styleClass="selectWidth170">
                    <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}"/>
                    <f:selectItems value="#{fichaPredial.ciudadelas}" var="cdla" itemLabel="#{cdla.nombre}" itemValue="#{cdla}"/>
                </p:selectOneMenu>
            </h:panelGroup>
            <comp:decorateForm id="nombre_predio" label="Nombre del Predio o Edificio:"
                               bind="#{fichaPredial.predio.nombreEdificio}" next="tdatos:frmDatosPredio:division"/>
            <comp:decorateForm id="sector" label="Sector:"
                               bind="#{fichaPredial.predio.sector}"  readonly="true" />

            <comp:decorateForm id="zona" label="Zona:"
                               bind="#{fichaPredial.predio.zona}"  readonly="true" />

            <comp:decorateForm id="mz" label="Mz:"
                               bind="#{fichaPredial.predio.mz}"  readonly="false" />

            <comp:decorateForm id="lote" label="Lote:"
                               bind="#{fichaPredial.predio.solar}"  readonly="true"  />

            <comp:decorateForm id="bloque" label="Bloque:"
                               bind="#{fichaPredial.predio.bloque}"  readonly="true" />

            <comp:decorateForm id="piso" label="Planta (Piso):"
                               bind="#{fichaPredial.predio.piso}"  readonly="true" />

            <comp:decorateForm id="unidad" label="Unidad:"
                               bind="#{fichaPredial.predio.unidad}"  readonly="true" />

            <comp:decorateForm id="division" label="División:"
                               bind="#{fichaPredial.predio.divisionUrb}"  readonly="true" />
            <comp:decorateForm id="dpto" label="Departamento:"
                               bind="#{fichaPredial.predio.numDepartamento}"  readonly="true" />

            <comp:decorateForm id="coord_x" label="Coordenadas en X (Latitud):"
                               bind="#{fichaPredial.predio.coordx}" readonly="true" pattern="##############.####"/>
            
            <comp:decorateForm id="coord_y" label="Coordenadas en Y (Longitud):"
                               bind="#{fichaPredial.predio.coordy}" readonly="true" pattern="##############.####"/>
            


        </h:panelGrid>
    </p:fieldset>
    <p:fieldset legend="Calles" toggleable="true">
        <h:panelGrid id="pgCalles" columns="3" style="width: 100%">

            <comp:decorateForm id="calle_p" label="Calle principal:"
                               bind="#{fichaPredial.predio.calle}" />

            <comp:decorateForm id="calle_s" label="Calle secundaria:"
                               bind="#{fichaPredial.predio.calleS}" />

            <comp:decorateForm id="placa_d" label="Placa domiciliaria:"
                               bind="#{fichaPredial.predio.numeroVivienda}" />

        </h:panelGrid>
    </p:fieldset>
    
    
    <p:fieldset legend="Ubicación Grafica del predio o lote" toggleable="true" collapsed="true">
        <p:commandLink actionListener="# {fichaPredial.redirecGeoportal()}" rendered="#{fichaGeoVisor.geovisorEnabled != true}"  >
            <p:graphicImage alt="Ubicación Grafica" value="#{fichaPredial.getCroquis()}" style="text-align:   center"  />
        </p:commandLink>
    </p:fieldset>
    
</html>
