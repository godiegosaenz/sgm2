<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:form id="frmEscrituras">
        <div align="right">
            <p:commandButton id="btnAddEscritura" value="Agregar Escritura"  actionListener="#{fichaPredial.saveEscrituraControl()}" oncomplete="PF('dlgEscritura').show()" update="frmDlgEscr"/>
        </div>
        <p:dataTable id="dtEscrituras" value="#{fichaPredial.escrituras}" var="e" scrollable="true" style="width: 100%"
                     emptyMessage="No se encontraron escrituras" paginator="true" paginatorPosition="top"
                     rows="10"  lazy="true" rowsPerPageTemplate="20,50,100" filterEvent="enter"
                     paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {CurrentPageReport} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                     rowKey="#{e.idEscritura}" selectionMode="single" >
            <p:column headerText="No. Predio">
                <h:outputText value="#{e.predio.numPredio}"/>
            </p:column>
            <p:column headerText="Tipo Dominio">
                <h:outputText value="#{e.traslDom.nombre}"/>
            </p:column>
            <p:column headerText="No. Repertorio">
                <h:outputText value="#{e.numRepertorio}"/>
            </p:column>
            <p:column headerText="Notaria">
                <h:outputText value="#{e.notaria}"/>
            </p:column>
            <p:column headerText="Fecha Escritura">
                <h:outputText value="#{e.fecEscritura}"><f:convertDateTime pattern="dd-MM-yyyy " /></h:outputText>
            </p:column>
            <p:column headerText="Fecha InscripciÃ³n">
                <h:outputText value="#{e.fecInscripcion}"><f:convertDateTime pattern="dd-MM-yyyy " /></h:outputText>
            </p:column>
            <p:column headerText="Area">
                <h:outputText value="#{e.areaSolar}" ><f:convertNumber pattern="##############.####" locale="us"/></h:outputText>
            </p:column>
            <p:column headerText="Estado">
                <h:outputText value="#{e.estado}"/>
            </p:column>
            <p:column headerText="Accion" style="text-align: center" rendered="#{fichaPredial.editable}">
                <p:commandLink value="Editar" actionListener="#{fichaPredial.updateEscrituraControl(e)}"
                               oncomplete="PF('dlgEscritura').show()" update=":frmDlgEscr" />
            </p:column>
        </p:dataTable>
    </h:form>
</html>