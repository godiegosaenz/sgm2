<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/template/template.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:dialog="http://xmlns.jcp.org/jsf/composite/dialog">
    <ui:define name="top"><p:outputLabel value="Emision de avaluos prediales" style="font-weight: bolder; font-size: 14px;"/></ui:define>

    <ui:define name="content">
        <center>
            <h1>Emisión de Predial</h1>
        </center>
        <h:form id="frmMain">
            <div >
                <p:panel id="basic" header="Valores para la emision"  style="margin-bottom:20px">

                    <h:panelGroup  layout="block" class="Container Wid100 MarTop10">
                        <center>
                            <h:panelGroup layout="block" class="Container100" style="margin-bottom: 15px;">
                                <center> 
                                    <h:panelGroup layout="block">
                                        <h:outputLabel for="anioEmision" value="Año emisión:" class="DispBlock Wid100 FontBold"/>
                                        <p:inputText value="#{emisionView.anioEmision}" >
                                            <!--<p:ajax update="frmMain:tbvValorizarProcess:confir1,confir2, confir3" />-->
                                        </p:inputText>
                                    </h:panelGroup>
                                </center>
                            </h:panelGroup>
                            <h:panelGroup layout="block" class="Container20">
                                <center>
                                    <p:commandLink title="Generar Valores" actionListener="#{emisionView.clonarValores()}" update="frmAvalAfectados">
                                        <p:graphicImage value="/css/homeIconsImages/catalogos.png" width="90" height="90" />
                                        <p:confirm id="ppe"  header="Confirmacion" icon="ui-icon-info"  message=" Esta seguro de generar los valores ?"/>
                                    </p:commandLink><br/>
                                    <p:outputLabel value="1. Generar Valores" style="font-size: 13px; font-weight: bolder; padding: 0px; "/>    
                                </center>
                            </h:panelGroup>
                            <h:panelGroup layout="block" class="Container20">
                                <center>
                                    <p:commandLink title="Valorizar Predios"  actionListener="#{emisionView.valorizacionPredial()}" update="frmAvalAfectados">
                                        <p:graphicImage value="/css/homeIconsImages/urbano.png" width="90" height="90"/>
                                        <p:confirm id="confir2"  header="Confirmacion" icon="ui-icon-info"  message=" Esta seguro de emitir los predios ?"/>
                                    </p:commandLink><br/>
                                    <p:outputLabel value="2. Valorizar Predios" style="font-size: 13px; font-weight: bolder; padding: 0px; "/>    
                                </center>
                            </h:panelGroup>
                            <h:panelGroup layout="block" class="Container20">
                                <center>
                                    <p:commandLink title="Emitir predios"  actionListener="#{emisionView.emitir()}">
                                        <p:graphicImage value="/css/homeIconsImages/divisionPredio.png" width="90" height="90"/>
                                        <p:confirm id="confir2"  header="Confirmacion" icon="ui-icon-info"  message=" Esta seguro de emitir los predios ?"/>
                                    </p:commandLink><br/>
                                    <p:outputLabel value="3. Emitir predios" style="font-size: 13px; font-weight: bolder; padding: 0px; "/>    
                                </center>
                            </h:panelGroup>
                            <h:panelGroup layout="block" class="Container20">
                                <center>
                                    <p:commandLink title="Aplicar exoneración" actionListener="#{emisionView.exonerar()}" >
                                        <p:graphicImage value="/css/homeIconsImages/managementProcess.png" width="90" height="90"/>
                                        <p:confirm id="confir3"  header="Confirmacion" icon="ui-icon-info"  message=" Esta seguro aplicar la exoneración ?"/>
                                    </p:commandLink><br/>
                                    <p:outputLabel value="4. Aplicar exoneración" style="font-size: 13px; font-weight: bolder; padding: 0px; "/>    
                                </center>
                            </h:panelGroup>
                            <h:panelGroup layout="block" class="Container20">
                                <center>
                                    <p:commandLink title="Exportat" actionListener="#{emisionView.reporte()}" >
                                        <p:graphicImage value="/css/homeIconsImages/reporte.png" width="90" height="90"/>
                                        <p:confirm id="confir4"  header="Confirmacion" icon="ui-icon-info"  message=" Esta seguro de generar el reporte de la emision ?"/>
                                    </p:commandLink><br/>
                                    <p:outputLabel value="5. Reporte" style="font-size: 13px; font-weight: bolder; padding: 0px; "/>    
                                </center>
                            </h:panelGroup>

                        </center>
                    </h:panelGroup>
                    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                        <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="fa fa-check" />
                        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="fa fa-times" />
                    </p:confirmDialog> 
                </p:panel>
            </div>
        </h:form>


        <p:dialog widgetVar="dlgMensaje" header="Resultado" 
                  height="250" width="250" responsive="true" closable="true" closeOnEscape="true" 
                  modal="true" appendTo="@(body)" >

            <h:form id="frmAvalAfectados">
                
                
                <br></br>
                <center >
                    <p:outputLabel value="#{emisionView.mensajeEmision}" />
                    <p:commandButton value="Aceptar" oncomplete="PF('dlgMensaje').hide()"  />
                </center>
            </h:form>
        </p:dialog>

      
    </ui:define>
</ui:composition>