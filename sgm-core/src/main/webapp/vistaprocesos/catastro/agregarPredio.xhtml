<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/template/template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="metadata">
    </ui:define>
    <ui:define name="head">
        <script src="../../resources/pfJs/keyPress.js" type="text/javascript"></script>
    </ui:define>
    <ui:define name="top">
        <h1>Ingreso de Ficha de predios</h1>
    </ui:define>
    <ui:define name="content">
        <h:form id="frmps1">
            <p:panel id="pPredio" header="Datos del predio, los campos marcados con (*) son obligatorios" style="width: 100%">
                <p:messages autoUpdate="true" showDetail="true" closable="true"/>
                <p:selectBooleanCheckbox value="#{agregarFicha.horizontal}" itemLabel="Propiedad Horizontal." >
                    <p:ajax update="frmps1:princ"/>
                </p:selectBooleanCheckbox> 
                <p:spacer width="30"/>
                <p:accordionPanel id="princ" multiple="true"  >
                    <p:tab title="Datos del Predio." titleStyle="font-size: 15px;" >

                        <p:panelGrid id="ps1" style="margin: 0 auto;width: 100%;">
                            <f:facet name="header">  
                                <p:row>  
                                    <p:column colspan="8" style="text-align: left">
                                        1. Identificación y localización del predio
                                        <p:commandLink id="btnps1" value="Guardar"  style="float: right" update="frmps1:princ" actionListener="#{agregarFicha.editarS1()}"/><p:graphicImage value="/css/homeIconsImages/editar.png" style="float: right" rendered="#{agregarFicha.editable and !agregarFicha.faltaNumPred}"/>
                                    </p:column>  
                                </p:row>  
                            </f:facet>
                            <p:row>
                                <p:column colspan="4">
                                    <h:outputLabel value="Num. Predio: *" style="font-weight: bolder; text-align: right" />
                                    <p:spacer width="10"/>
                                    <p:inputText id="itNumPred" value="#{agregarFicha.predio.numPredio}" style="width: 30%" required="true" readonly="true" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText> 
                                    <p:spacer width="10"/>
                                    <p:commandLink id="btnGenNumPredio" value="Generar" rendered="#{agregarFicha.faltaNumPred and agregarFicha.editable}" update="frmps1:princ" actionListener="#{agregarFicha.generarNumPredio()}" style="font-size: 14px; font-weight: bold;"/>

                                </p:column>
                                <p:column colspan="4">
                                    <h:outputLabel value="Ficha Predial Urbana No.: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="10"/>
                                    <p:inputText value="#{agregarFicha.predio.numeroFicha}" style="width: 30%">
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column> 
                                    <h:outputLabel value="Sector:" style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="10"/>
                                    <p:inputText value="#{agregarFicha.predio.sector}" style="width: 40px;" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                                <p:column>
                                    <h:outputLabel value="MZ: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="20"/>
                                    <p:inputText value="#{agregarFicha.predio.mz}" style="width: 30px;" label="Mz" required="true" requiredMessage="Campo no puede ser nulo ni menor a cero.">
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                                <p:column> 
                                    <h:outputLabel value="Cdla:" style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="10"/>
                                    <p:inputText value="#{agregarFicha.predio.cdla}" style="width: 30px;" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                                <p:column> 
                                    <h:outputLabel value="Mz. Div: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="10"/>
                                    <p:inputText value="#{agregarFicha.predio.mzdiv}" style="width: 30px;" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                                <p:column>
                                    <h:outputLabel value="Solar: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="10"/>
                                    <p:inputText value="#{agregarFicha.predio.solar}" style="width: 30px;" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                                <p:column>
                                    <h:outputLabel value="Div1: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="10"/>
                                    <p:inputText maxlength="3" value="#{agregarFicha.predio.div1}" style="width: 30px;" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                                <p:column>
                                    <h:outputLabel value="Div2: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="10"/>
                                    <p:inputText maxlength="3" value="#{agregarFicha.predio.div2}" style="width: 30px;" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                                <p:column>
                                    <h:outputLabel value="Div3: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="10"/>
                                    <p:inputText maxlength="3" value="#{agregarFicha.predio.div3}" style="width: 30px;" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column> 
                                    <h:outputLabel value="Div4: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="20"/>
                                    <p:inputText maxlength="3" value="#{agregarFicha.predio.div4}" style="width: 30px;" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                                <p:column>
                                    <h:outputLabel value="Div5: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="10"/>
                                    <p:inputText maxlength="3" value="#{agregarFicha.predio.div5}" style="width: 30px;" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                                <p:column> 
                                    <h:outputLabel value="Div6: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="10"/>
                                    <p:inputText maxlength="3" value="#{agregarFicha.predio.div6}" style="width: 30px;">
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                                <p:column> 
                                    <h:outputLabel value="Div7: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="30"/>
                                    <p:inputText maxlength="3" value="#{agregarFicha.predio.div7}" style="width: 30px;" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                                <p:column>
                                    <h:outputLabel value="Div8: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="13"/>
                                    <p:inputText maxlength="3" value="#{agregarFicha.predio.div8}" style="width: 30px;" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                                <p:column>
                                    <h:outputLabel value="Div9: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="10"/>
                                    <p:inputText maxlength="3" value="#{agregarFicha.predio.div9}" style="width: 30px;" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                                <p:column>
                                    <h:outputLabel value="Phv: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="15"/>
                                    <p:inputText maxlength="3" value="#{agregarFicha.predio.phv}" style="width: 30px;" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                                <p:column>
                                    <h:outputLabel value="Phh: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="15"/>
                                    <p:inputText maxlength="3" value="#{agregarFicha.predio.phh}" style="width: 30px;" >
                                        <pe:keyFilter mask="int"/>
                                    </p:inputText>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column colspan="2">
                                    <h:outputLabel value="Tipo: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="15"/>
                                    <p:selectOneMenu value="#{agregarFicha.predio.tipoConjunto}" effect="fade" converter="entityConverter">    
                                        <f:selectItems value="#{agregarFicha.conjuntos}" var="tipo" itemLabel="#{tipo.nombre}" itemValue="#{tipo}" itemDisabled="#{agregarFicha.proceso}"/>  
                                        <p:ajax listener="#{agregarFicha.actualizarCdla()}" update="ciudadelas" />
                                    </p:selectOneMenu> 
                                </p:column>
                                <p:column colspan="4">
                                    <h:outputLabel value="Nombre Cdla: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="15"/>
                                    <p:selectOneMenu id="ciudadelas" value="#{agregarFicha.predio.ciudadela}" effect="fade" converter="entityConverter"> 
                                        <f:selectItem value="#{null}" itemLabel="Seleccionar..." itemValue="#{null}"/>
                                        <f:selectItems value="#{agregarFicha.ciudadelas}" var="cdl" itemLabel="#{cdl.nombre}" itemValue="#{cdl}" itemDisabled="#{agregarFicha.proceso}"/>  
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column colspan="2">
                                    <h:outputLabel value="Calle: " style="font-weight: bolder; text-align: right"/>
                                    <p:inputText value="#{agregarFicha.predio.calle}"/>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column colspan="4">
                                    <h:outputLabel value="Urbanístico Sec: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="15"/>
                                    <p:inputText value="#{agregarFicha.predio.urbSecnew}"/>
                                </p:column>
                                <p:column colspan="2">
                                    <h:outputLabel value="Mz: " style="font-weight: bolder; text-align: right" />
                                    <p:spacer width="15"/>
                                    <p:inputText value="#{agregarFicha.predio.urbMz}" readonly="#{agregarFicha.proceso}"/>
                                </p:column>
                                <p:column colspan="2">
                                    <h:outputLabel value="Sol: " style="font-weight: bolder; text-align: right"/>
                                    <p:spacer width="15"/>
                                    <p:inputText value="#{agregarFicha.predio.urbSolarnew}" readonly="#{agregarFicha.proceso}"/>
                                </p:column>
                            </p:row>
                        </p:panelGrid>

                        <p:panel id="ps2" style="text-align: left; width: 100%">
                            <f:facet name="header">
                                2. Datos Propietarios
                            </f:facet>
                            <p:dataTable id="dtPropietarios" value="#{agregarFicha.predio.catPredioPropietarioCollection}" var="pt" style="width: 100%" reflow="true">    
                                <f:facet name="header"  >
                                    <div align="right">
                                        <p:commandLink value="Agregar" actionListener="#{agregarFicha.agregarPropietario()}" style="font-weight: bold; font-size: 14px;"/>
                                    </div>
                                </f:facet>
                                <p:column headerText="Tipo Propietario " style="text-align: center">
                                    <h:outputText value="#{pt.tipo.valor}"/>
                                </p:column>
                                <p:column headerText="Apellido/Nombre " style="text-align: center">
                                    <h:outputText value="#{pt.ente.apellidos} #{pt.ente.nombres}" rendered="#{pt.ente.esPersona}"/>
                                    <h:outputText value="#{pt.ente.razonSocial}" rendered="#{!pt.ente.esPersona}"/>
                                </p:column>
                                <p:column headerText="Num. Identificacion " style="text-align: center">
                                    <h:outputText value="#{pt.ente.ciRuc}" />
                                </p:column>
                                <p:column headerText="Ver mas " style="text-align: center; width: 10%;">
                                    <p:commandLink action="#{agregarFicha.datosPropietario(pt.ente)}" onclick="PF('dlgDatosProp').show()" update=":frmPropietario">  
                                        <h:graphicImage value="/css/homeIconsImages/abrir.png" height="15"/>
                                    </p:commandLink>  
                                </p:column>
                                <p:column headerText="Editar" style="text-align: center; width: 10%;">
                                    <p:commandLink actionListener="#{agregarFicha.editarEnte(pt)}">  
                                        <h:graphicImage value="/css/homeIconsImages/edicion.png" height="15"/>
                                    </p:commandLink>  
                                </p:column>
                            </p:dataTable>
                        </p:panel>

                        <p:panel id="ps3" style="text-align: left; width: 100%">
                            <f:facet name="header">
                                3. Dominio y Tenencia
                            </f:facet>
                            <p:panelGrid id="domTen" style="margin: 0 auto;width: 100%">
                                <p:row>
                                    <p:column>
                                        <h:outputLabel value="Propiedad: " style="font-weight: bolder; text-align: right;"/>
                                        <br/>
                                        <p:selectOneMenu id="propiedad" value="#{agregarFicha.predio.propiedad}" effect="fade" converter="entityConverter" style="width: 200px"> 
                                            <f:selectItems value="#{agregarFicha.propiedadItems}" var="p" itemLabel="#{p.nombre}" itemValue="#{p}"/>  
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Tenencia: " style="font-weight: bolder; text-align: right"/>
                                        <br/>
                                        <p:selectOneMenu id="tenencia" value="#{agregarFicha.predio.tenencia}" effect="fade" converter="entityConverter" style="width: 200px"> 
                                            <f:selectItems value="#{agregarFicha.tenencias}" var="t" itemLabel="#{t.nombre}" itemValue="#{t}"/>  
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Soporta predio hipoteca: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="15"/>
                                        <p:selectBooleanCheckbox value="#{agregarFicha.predio.soportaHipoteca}" style="width: 40px"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                    </p:tab>
                    <p:tab title="Información de Solar." titleStyle="font-size: 15px;"  >
                        <p:panel id="ps4" style="text-align: left; width: 100%">
                            <f:facet name="header">
                                4. Características Físicas del Solar
                                <p:commandLink action="#{agregarFicha.editarS4()}" ajax="false"  update="frmps1:princ" value="Guardar" style="float: right" /><p:graphicImage value="/css/homeIconsImages/editar.png" style="float: right" />
                            </f:facet>
                            <p:panelGrid id="panelGVista4" style="margin: 0 auto; width: 100%">
                                <p:row>
                                    <p:column colspan="1">
                                        <h:outputLabel value="Cerramaiento: " style="font-weight: bolder; text-align: right"/>
                                        <br/>
                                        <p:selectOneMenu id="cerramiento" value="#{agregarFicha.s4.cerramientoCtlg}" effect="fade" converter="entityConverter" style="width: 200px"> 
                                            <f:selectItems value="#{agregarFicha.cerramientos}" var="c" itemLabel="#{c.valor}" itemValue="#{c}"/>  
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column colspan="1">
                                        <h:outputLabel value="Topografia: " style="font-weight: bolder; text-align: right"/>
                                        <br/>
                                        <p:selectOneMenu id="topografia" value="#{agregarFicha.s4.topografia}" effect="fade" converter="entityConverter" style="width: 200px"> 
                                            <f:selectItems value="#{agregarFicha.topografias}" var="c" itemLabel="#{c.valor}" itemValue="#{c}"/>  
                                        </p:selectOneMenu>
                                    </p:column>

                                    <p:column rowspan="6">
                                        <h:outputLabel value="Accesibilidad: " style="font-weight: bolder; text-align: right"/>
                                        <br/>
                                        <p:selectManyCheckbox styleClass="noBorder" value="#{agregarFicha.accesibilidadA}"  layout="pageDirection" converter="entityConverter" style="width: 50%">  
                                            <f:selectItems value="#{agregarFicha.accesibilidadC}" var="item" itemLabel="#{item.valor}" itemValue="#{item}"/>  
                                        </p:selectManyCheckbox> 
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="1">
                                        <h:outputLabel value="Localización en Manzana: " style="font-weight: bolder; text-align: right"/>
                                        <br/>
                                        <p:selectOneMenu id="locMz" value="#{agregarFicha.s4.locManzana}" effect="fade" converter="entityConverter" style="width: 200px"> 
                                            <f:selectItems value="#{agregarFicha.manzanas}" var="c" itemLabel="#{c.valor}" itemValue="#{c}"/>  
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column colspan="1">
                                        <h:outputLabel value="Tipo de Suelo: " style="font-weight: bolder; text-align: right"/>
                                        <br/>
                                        <p:selectOneMenu id="tiposuelo" value="#{agregarFicha.s4.tipoSuelo}" effect="fade" converter="entityConverter" style="width: 200px"> 
                                            <f:selectItems value="#{agregarFicha.tipoSuelos}" var="c" itemLabel="#{c.valor}" itemValue="#{c}"/>  
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="ps5" rendered="#{!agregarFicha.horizontal}" style="text-align: left; width: 100%">
                            <f:facet name="header">
                                5. Ocupación del Solar
                            </f:facet>
                            <p:panelGrid id="panelGVista5" style="margin: 0 auto;width: 100%">
                                <p:row>
                                    <p:column>
                                        <h:outputLabel value="Frente 1: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.s4.frente1}" style="width: 40px">
                                            <p:ajax event="change" listener="#{agregarFicha.sumaFrentes()}" update="fTotal"/>
                                        </pe:inputNumber>m
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Frente 2: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.s4.frente2}" style="width: 40px">
                                            <p:ajax event="change" listener="#{agregarFicha.sumaFrentes()}" update="fTotal"/>
                                        </pe:inputNumber>m
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Frente 3: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.s4.frente3}" style="width: 40px">
                                            <p:ajax event="change" listener="#{agregarFicha.sumaFrentes()}" update="fTotal"/>
                                        </pe:inputNumber>m
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Frente 4: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.s4.frente4}" style="width: 40px">
                                            <p:ajax event="change" listener="#{agregarFicha.sumaFrentes()}" update="fTotal"/>
                                        </pe:inputNumber>m
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Frente Total: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber id="fTotal" value="#{agregarFicha.s4.frenteTotal}" style="width: 40px" readonly="true"/>m
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column>
                                        <h:outputLabel value="Fondo 1: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="12"/>
                                        <pe:inputNumber value="#{agregarFicha.s4.fondo1}" style="width: 40px">
                                            <p:ajax event="change" listener="#{agregarFicha.areaCalculada()}" update="aCalculada"/>
                                        </pe:inputNumber>m
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Fondo 2: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="12"/>
                                        <pe:inputNumber value="#{agregarFicha.s4.fondo2}" style="width: 40px">
                                            <p:ajax event="change" listener="#{agregarFicha.areaCalculada()}" update="aCalculada"/>
                                        </pe:inputNumber>m
                                    </p:column>
                                    <p:column colspan="3">
                                        <h:outputLabel value="Area m2 calculada: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber id="aCalculada" value="#{agregarFicha.s4.areaCalculada}" style="width: 45px" readonly="true"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                    </p:tab>
                    <p:tab title="Información de Conexión." titleStyle="font-size: 15px;"  >
                        <p:panel id="ps6" rendered="#{!agregarFicha.horizontal}" style="text-align: left; width: 100%">
                            <f:facet name="header">
                                6. Infraestructura y Servicios - Conexión Domiciliaria de:
                                <p:commandLink action="#{agregarFicha.editarS6()}" update="frmps1:princ" value="Guardar" style="float: right" /><p:graphicImage value="/css/homeIconsImages/editar.png" style="float: right" />
                            </f:facet>
                            <p:panelGrid id="panelGVista6" style="margin: 0 auto;width: 100%">
                                <p:row>
                                    <p:column> 
                                        <h:outputLabel value="Agua potable: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:selectBooleanCheckbox value="#{agregarFicha.s6.tieneAguaPotable}" style="width: 40px"/>
                                    </p:column>
                                    <p:column >
                                        <h:outputLabel value="No. de medidores: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:inputText value="#{agregarFicha.s6.numMedidoresAgua}" style="width: 40px"/>
                                    </p:column>
                                    <p:column >
                                        <h:outputLabel value="Alcantarillado:  " style="font-weight: bolder; text-align: right; "/>
                                        <p:spacer width="10"/>
                                        <p:selectBooleanCheckbox value="#{agregarFicha.s6.tieneAlcantarillado}" style="width:40px "/>
                                    </p:column>
                                    <p:column >
                                        <h:outputLabel value="Abastecimiento de agua: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <!--<p:inputText value="# {agregarFicha.s6.abastAgua.valor}"/>-->
                                        <p:selectOneMenu id="abastAgua" value="#{agregarFicha.s6.abastAgua}" effect="fade" converter="entityConverter">    
                                            <f:selectItems value="#{agregarFicha.abstAguas}" var="a" itemLabel="#{a.valor}" itemValue="#{a}"/>  
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column rowspan="4">
                                        <h:outputLabel value="Vías: " style="font-weight: bolder; text-align: right"/>
                                        <br/>
                                        <p:selectManyCheckbox id="vias" styleClass="noBorder" value="#{agregarFicha.viasA}" layout="pageDirection" converter="entityConverter">  
                                            <f:selectItems value="#{agregarFicha.viasC}" var="v" itemLabel="#{v.valor}" itemValue="#{v}"/>  
                                        </p:selectManyCheckbox>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column >
                                        <h:outputLabel value="Evacuación de aguas servidas: " style="font-weight: bolder; text-align: right"/>
                                        <br/>
                                        <!--<p:inputText value="# {agregarFicha.s6.evacAguasServ.valor}"/>   -->
                                        <p:selectOneMenu id="aguasServ" value="#{agregarFicha.s6.evacAguasServ}" effect="fade" converter="entityConverter" style="width: 140px; font-size: 10px;">    
                                            <f:selectItems value="#{agregarFicha.aguasServ}" var="e" itemLabel="#{e.valor}" itemValue="#{e}"/>  
                                        </p:selectOneMenu>
                                    </p:column> 
                                    <p:column >
                                        <h:outputLabel value="Electricidad: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:selectBooleanCheckbox value="#{agregarFicha.s6.tieneElectricidad}" style="width: 40px"/>
                                    </p:column>
                                    <p:column >
                                        <h:outputLabel value="No. de medidores: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:inputText value="#{agregarFicha.s6.numMedElect}" style="width: 20px"/>
                                    </p:column>
                                    <p:column >
                                        <h:outputLabel value="Internet: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:selectBooleanCheckbox value="#{agregarFicha.s6.tieneInternet}" style="width: 40px"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column >
                                        <h:outputLabel value="Abastecimiento eléctrico: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <br/>
                                        <!--<p:inputText value="# {agregarFicha.s6.abasteElectrico.valor}"/>-->
                                        <p:selectOneMenu id="abastElect" value="#{agregarFicha.s6.abasteElectrico}" effect="fade" converter="entityConverter" style="width: 140px; font-size: 10px;">    
                                            <f:selectItems value="#{agregarFicha.abastElects}" var="el" itemLabel="#{el.valor}" itemValue="#{el}"/>  
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column >
                                        <h:outputLabel value="Teléfono fijo: " style="font-weight: bolder; text-align: right"/>
                                        <p:selectBooleanCheckbox value="#{agregarFicha.s6.tieneTelfFijo}"/>
                                        <p:spacer width="10"/>
                                    </p:column>
                                    <p:column colspan="2">
                                        <h:outputLabel value="No. telefónico: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:inputText value="#{agregarFicha.s6.telfFijo}" style="width: 80px"  type="number"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column >
                                        <h:outputLabel value="Recolección de basura: " style="font-weight: bolder; text-align: right"/>
                                        <br/>
                                        <!--<p:inputText value="# {agregarFicha.s6.recolBasura.valor}"/>-->
                                        <p:selectOneMenu id="recBasura" value="#{agregarFicha.s6.recolBasura}" effect="fade" converter="entityConverter" style="width: 140px; font-size: 10px;">    
                                            <f:selectItems value="#{agregarFicha.recBasura}" var="b" itemLabel="#{b.valor}" itemValue="#{b}"/>  
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Aceras: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:selectBooleanCheckbox value="#{agregarFicha.s6.tieneAceras}" style="width: 40px"/>
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Bordillo: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:selectBooleanCheckbox value="#{agregarFicha.s6.tieneBordillo}" style="width: 40px"/>
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Cunetas: " style="font-weight: bolder; text-align: right"/>
                                        <p:selectBooleanCheckbox value="#{agregarFicha.s6.tieneCunetas}" style="width: 40px"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="ps8a" rendered="#{!agregarFicha.horizontal}"  style="text-align: left; width: 100%">
                            <f:facet name="header">
                                8a. Linderos(Según Levantamiento)
                            </f:facet>
                            <p:panelGrid id="panelGVista8" style="margin: 0 auto;width: 100%">
                                <p:row>
                                    <p:column>
                                        <h:outputLabel value="Norte: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:inputText value="#{agregarFicha.s6.lindLevNorte}" style="width: 80px"/>
                                    </p:column>
                                    <p:column >
                                        <h:outputLabel value="Con: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.s6.lindLevNorteCon}" style="width: 70px"/>
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Sur: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="25"/>
                                        <p:inputText value="#{agregarFicha.s6.lindLevSur}" style="width: 80px"/>
                                    </p:column>
                                    <p:column >
                                        <h:outputLabel value="Con: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.s6.lindLevSurCon}" style="width: 70px" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column> 
                                        <h:outputLabel value="Este: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="17"/>
                                        <p:inputText value="#{agregarFicha.s6.lindLevEste}" style="width: 80px"/>
                                    </p:column>
                                    <p:column >
                                        <h:outputLabel value="Con: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.s6.lindLevEsteCon}" style="width: 70px"/>
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Oeste: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:inputText value="#{agregarFicha.s6.lindLevOeste}" style="width: 80px"/>
                                    </p:column>
                                    <p:column >
                                        <h:outputLabel value="Con:  " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.s6.lindLevOesteCon}" style="width: 70px"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                    </p:tab>
                    <p:tab id="de" title="Datos de Escritura." titleStyle="font-size: 15px;">
                        <p:panel id="ps7" style="text-align: left; width: 100%">
                            <f:facet name="header">
                                7. Datos de Escritura 
                                <p:commandLink  action="#{agregarFicha.editarEscritura()}" update="frmps1:princ" value="Guardar" style="float: right" /><p:graphicImage value="/css/homeIconsImages/editar.png" style="float: right" />
                            </f:facet>
                            <p:panelGrid id="panelGVista7" style="margin: 0 auto; width: 100%">
                                <p:row>
                                    <p:column>
                                        <h:outputLabel value="Notaria: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:inputText value="#{agregarFicha.escritura.notaria}" style="width: 30px"/>
                                    </p:column>
                                    <p:column colspan="2"> 
                                        <h:outputLabel value="Cantón: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <!--<p:inputText value="# {agregarFicha.escritura.canton.nombre}"/>-->
                                        <p:selectOneMenu id="canton" value="#{agregarFicha.escritura.canton}" effect="fade" converter="entityConverter" style="width: 200px"> 
                                            <f:selectItems value="#{agregarFicha.cantones}" var="t" itemLabel="#{t.nombre}" itemValue="#{t}"/>  
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column >
                                        <h:outputLabel value="Fec. escritura: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:calendar value="#{agregarFicha.escritura.fecEscritura}"  pattern="dd/MM/yyyy"/>
                                    </p:column>
                                    <p:column >
                                        <h:outputLabel value="Fec. inscripción: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:calendar value="#{agregarFicha.escritura.fecInscripcion}"  pattern="dd/MM/yyyy"/>
                                    </p:column>
                                    <p:column >
                                        <h:outputLabel value="No. de registro: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.escritura.numRegistro}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column colspan="4">
                                        <h:outputLabel value="No. de repertorio: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:inputText value="#{agregarFicha.escritura.numRepertorio}" style="width: 35px"/>
                                        <p:spacer width="10"/>
                                        <h:outputLabel value="Folio " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:inputText value="#{agregarFicha.escritura.folioDesde}" style="width: 35px"/>
                                        <p:spacer width="5"/>
                                        <h:outputLabel value="al " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="5"/>
                                        <p:inputText value="#{agregarFicha.escritura.folioHasta}" style="width: 35px"/>
                                        <p:spacer width="10"/>
                                        <h:outputLabel value="Área Solar " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.escritura.areaSolar}" style="width: 45px"/>
                                        <p:spacer width="10"/>
                                    </p:column>
                                    <p:column >
                                        <h:outputLabel value="Área Cons: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.escritura.areaConstruccion}" style="width: 45px"/> 
                                        <p:spacer width="10"/>
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Alícuota: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.escritura.alicuota}" style="width: 35px"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="ps8b" rendered="#{!agregarFicha.horizontal}"  style="text-align: left; width: 100%">
                            <f:facet name="header">
                                8b. Linderos(Según Escritura)
                            </f:facet>
                            <p:panelGrid id="panelGVistaB8" style="margin: 0 auto;width: 100%">
                                <p:row>
                                    <p:column>
                                        <h:outputLabel value="Norte: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:inputText value="#{agregarFicha.escritura.lindEscrNorte}" style="width: 80px"/>
                                    </p:column>
                                    <p:column> 
                                        <h:outputLabel value="Con: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.escritura.lindEscrNorteCon}" style="width: 70px"/>
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Sur: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="25"/>
                                        <p:inputText value="#{agregarFicha.escritura.lindEscrSur}" style="width: 80px"/>
                                    </p:column>
                                    <p:column> 
                                        <h:outputLabel value="Con: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.escritura.lindEscrSurCon}" style="width: 70px"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column> 
                                        <h:outputLabel value="Este: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="17"/>
                                        <p:inputText value="#{agregarFicha.escritura.lindEscrEste}" style="width: 80px"/>
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Con: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.escritura.lindEscrEsteCon}" style="width: 70px"/>
                                    </p:column>
                                    <p:column> 
                                        <h:outputLabel value="Oeste:" style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <p:inputText value="#{agregarFicha.escritura.lindEscrOeste}" style="width: 80px"/>
                                    </p:column>
                                    <p:column>
                                        <h:outputLabel value="Con: " style="font-weight: bolder; text-align: right"/>
                                        <p:spacer width="10"/>
                                        <pe:inputNumber value="#{agregarFicha.escritura.lindEscrOesteCon}" style="width: 70px"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>
                    </p:tab>
                    <p:tab title="Edificaciones." titleStyle="font-size: 15px;">
                        <p:panel id="ps10" rendered="#{!agregarFicha.horizontal}" style="text-align: left; width: 100%">
                            <f:facet name="header">
                                10. Edificaciones 
                                <p:commandLink ajax="false" action="#{agregarFicha.editarEdificacion(edif)}" style="float: right; font-size: 12px; font-weight: bold" value="Edificaciones"  update="frmps1:princ"/><p:graphicImage value="/css/homeIconsImages/editar.png" style="float: right" />
                            </f:facet>
                            <p:dataTable id="dtedificaciones" value="#{agregarFicha.predio.catPredioEdificacionCollection}" var="edif" reflow="true">
                                <p:column headerText="Edificación Número" style="text-align: center">
                                    <h:outputText value="#{edif.noEdificacion}"/>
                                </p:column>
                                <p:column headerText="Área construcción censo " style="text-align: center">
                                    <h:outputText value="#{edif.areaConsCenso}"/>
                                </p:column>
                                <p:column headerText="Área Con. según permiso " style="text-align: center">
                                    <h:outputText value="#{edif.areaConsPermiso}"/>
                                </p:column>
                                <p:column headerText="Área Con. sobre losa " style="text-align: center">
                                    <h:outputText value="#{edif.areaConsLosa}"/>
                                </p:column>
                                <p:column headerText="En construcción 30-60-80% " style="text-align: center">
                                    <h:outputText value="#{edif.enConstruccionPorc}"/>
                                </p:column>    
                            </p:dataTable>
                        </p:panel>
                    </p:tab>
                    <p:tab title="Información de Uso y Permiso." titleStyle="font-size: 15px;">
                        <p:panel id="ps12" rendered="#{!agregarFicha.horizontal}" style="text-align: left; width: 100%"> 
                            <f:facet name="header">
                                12. Datos del permiso de Construcción 
                                <p:commandLink action="#{agregarFicha.editarS12()}" update="frmps1:princ" value="Guardar" style="float: right" /><p:graphicImage value="/css/homeIconsImages/editar.png" style="float: right" />
                            </f:facet>
                            <p:panelGrid id="panelGVista12" style="margin: 0 auto;width: 100%">
                                <p:row>
                                    <p:column>
                                        <h:outputLabel value="Núm. permiso de construcción:  " style="font-weight: bolder; text-align: right"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText value="#{agregarFicha.s12.numPermisoConstruccion}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column>
                                        <h:outputLabel value="Fecha del permiso:  " style="font-weight: bolder; text-align: right"/>
                                    </p:column>   
                                    <p:column>
                                        <p:calendar value="#{agregarFicha.s12.fechaPermiso}"/>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column>
                                        <h:outputLabel value="Responsable:  " style="font-weight: bolder; text-align: right"/>
                                    </p:column>   
                                    <p:column >
                                        <p:inputText value="#{agregarFicha.s12.responsablePermiso}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column> 
                                        <h:outputLabel value="Núm. inspección final: " style="font-weight: bolder; text-align: right"/>
                                    </p:column>      
                                    <p:column>
                                        <p:inputText value="#{agregarFicha.s12.numInspeccionFinal}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column> 
                                        <h:outputLabel value="Fecha de inspección final: " style="font-weight: bolder; text-align: right"/>
                                    </p:column>        
                                    <p:column>
                                        <p:calendar value="#{agregarFicha.s12.fechaInspeccionFinal}" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column >
                                        <h:outputLabel value="Área de construcción: " style="font-weight: bolder; text-align: right"/>
                                    </p:column>       
                                    <p:column >
                                        <pe:inputNumber value="#{agregarFicha.s12.areaConsInspeccion}" style="width: 138px"/>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                        </p:panel>

                        <p:panel id="ps13" rendered="#{!agregarFicha.horizontal}" style="text-align: left; width: 100%">
                            <f:facet name="header">
                                13. Usos 
                            </f:facet>
                            <p:selectManyCheckbox id="usos" styleClass="noBorder" value="#{agregarFicha.usosA}" layout="responsive" columns="4" converter="entityConverter" style="display:block; border-collapse: separate;" >  
                                <f:selectItems value="#{agregarFicha.usosC}" var="item" itemLabel="#{item.valor} " itemValue="#{item}" />  
                            </p:selectManyCheckbox>

                        </p:panel>

                        <p:panel id="pnlgObs" rendered="#{!agregarFicha.horizontal}">
                            <f:facet name="header">
                                13. Observaciones 
                            </f:facet>
                            <br/>
                            <p:inputTextarea cols="50" rows="3" value="#{agregarFicha.s12.observaciones}" />
                        </p:panel>
                    </p:tab>

                </p:accordionPanel>

            </p:panel>
        </h:form>
        <p:dialog id="dlgDatosProp" appendTo="@(body)" header="Datos del propietario" widgetVar="dlgDatosProp" modal="true" width="400" closable="true" closeOnEscape="true" resizable="false">
            <h:form id="frmPropietario">
                <p:panelGrid id="pgPropietario" style="width: 100%" columns="1">
                    <h:outputText value="Identificacion: #{agregarFicha.prop.ciRuc}"/>
                    <h:outputText value="Nombres: #{agregarFicha.prop.nombres} #{agregarFicha.prop.apellidos} " rendered="#{agregarFicha.prop.esPersona}"/>
                    <h:outputText value="Razon social: #{agregarFicha.prop.razonSocial}" rendered="#{!agregarFicha.prop.esPersona}"/>
                </p:panelGrid>
                <p:panel id="pPropietario" style="width: 100%">
                    <p:dataTable id="dtEmails" value="#{agregarFicha.prop.enteCorreoCollection}" var="m"  reflow="true" style="text-align: left; width: 100%">
                        <f:facet name="header">1. Correo(s) Electronico(s)</f:facet>
                        <p:column headerText="Email">
                            #{m.email}
                        </p:column>
                    </p:dataTable>
                    <br/>
                    <p:dataTable id="dtTelefonos" value="#{agregarFicha.prop.enteTelefonoCollection}" var="t" reflow="true" style="text-align: left; width: 100%">
                        <f:facet name="header">2. Telefono(s)</f:facet>
                        <p:column headerText="Telefono">
                            #{t.telefono}
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <p:dialog id="dIngPro" widgetVar="dIngPro" modal="true" width="550" height="600" closable="true" resizable="false" header="Ingreso de Información">
            <h:form id="formProp">
                <h:panelGrid columns="2" cellspacing="5" cellpadding="5">
                    <h:outputText value="Tipo Propietario: " style="font-weight: bold"/> 
                    <p:selectOneMenu value="#{agregarFicha.propPredio.tipo}" converter="entityConverter" immediate="true" >  
                        <f:attribute name="name" value="CtlgItem" />
                        <f:selectItems value="#{agregarFicha.tipoPro}" var="tp" itemLabel="#{tp.valor}" itemValue="#{tp}"/>  
                    </p:selectOneMenu> 

                    <h:panelGroup>
                        <p:outputLabel value="Es Residente:"/>
                        <p:spacer width="30"/>
                        <p:selectBooleanCheckbox value="#{agregarFicha.propPredio.esResidente}" />
                    </h:panelGroup>

                    <h:panelGroup>
                        <p:outputLabel value="Es Persona Natural:"/>
                        <p:spacer width="30"/>
                        <p:selectBooleanCheckbox value="#{agregarFicha.prop.esPersona}" >
                            <p:ajax update="formProp"/>
                        </p:selectBooleanCheckbox>
                    </h:panelGroup>
                    <!--h:panelGroup-->
                    <p:outputLabel value="Número RUC:" rendered="#{!agregarFicha.prop.esPersona}"/>
                    <p:outputLabel value="Número Cédula:" rendered="#{agregarFicha.prop.esPersona}"/>
                    <!--/h:panelGroup-->

                    <h:panelGroup>
                        <p:inputMask mask="9999999999" value="#{agregarFicha.prop.ciRuc}" rendered="#{agregarFicha.prop.esPersona}"/>
                        <p:inputMask mask="9999999999999" value="#{agregarFicha.prop.ciRuc}" rendered="#{!agregarFicha.prop.esPersona}"/>
                        <p:spacer width="10"/>
                        <p:commandLink actionListener="#{agregarFicha.buscarEnte()}" >
                            <p:graphicImage value="/css/homeIconsImages/buscar.png" height="25" width="25"/>
                        </p:commandLink>
                    </h:panelGroup>

                    <p:outputLabel value="Nombres:" rendered="#{agregarFicha.prop.esPersona}"/>
                    <p:inputText value="#{agregarFicha.prop.nombres}" rendered="#{agregarFicha.prop.esPersona}" style="width: 250px;"/>
                    <p:outputLabel value="Razón Social:" rendered="#{!agregarFicha.prop.esPersona}"/>
                    <p:inputText value="#{agregarFicha.prop.nombreComercial}" rendered="#{!agregarFicha.prop.esPersona}" style="width: 250px;"/>

                    <p:outputLabel value="Apellidos:" rendered="#{agregarFicha.prop.esPersona}"/>
                    <p:inputText value="#{agregarFicha.prop.apellidos}" rendered="#{agregarFicha.prop.esPersona}" style="width: 250px;"/>
                    <p:outputLabel value="Representante Legal:" rendered="#{!agregarFicha.prop.esPersona}"/>
                    <h:panelGroup rendered="#{!agregarFicha.prop.esPersona}">
                        <p:inputText value="#{agregarFicha.representanteLegal}" rendered="#{!agregarFicha.prop.esPersona}" style="width: 350px;" readonly="true"/>
                        <p:spacer width="10"/>
                        <p:commandLink id="busReprestL" actionListener="#{agregarFicha.seleccionarReprest()}"  rendered="#{!agregarFicha.prop.esPersona}" >
                            <p:graphicImage value="/css/homeIconsImages/buscar.png" height="25" width="25"/>
                        </p:commandLink>
                    </h:panelGroup>

                    <p:outputLabel value="Fec. Nacimiento:" rendered="#{agregarFicha.prop.esPersona}"/>
                    <p:calendar value="#{agregarFicha.prop.fechaNacimiento}" rendered="#{agregarFicha.prop.esPersona}"/>

                    <p:outputLabel value="Dirección:"/>
                    <p:inputText value="#{agregarFicha.prop.direccion}" style="width: 350px;"/>                   
                </h:panelGrid>

                <br/>
                <h:panelGrid columns="2" width="100%" >
                    <p:dataTable id="dtCorr" value="#{agregarFicha.prop.enteCorreoCollection}" scrollHeight="65" scrollable="true" var="c" emptyMessage="No se encontro ningún correo" style="width: 300px;" >
                        <f:facet name="header">
                            <p:inputText value="#{agregarFicha.correo.email}" style="width: 80%; "  />
                            <p:commandButton icon="ui-icon-plus" update="dtCorr" styleClass="btnStyle" actionListener="#{agregarFicha.agregarCorreo()}" style=" height: 28px;" />
                        </f:facet>
                        <p:column headerText="Correo" >
                            <h:outputLabel value="#{c.email}"/>
                        </p:column>
                        <p:column headerText="Eliminar" width="60" >
                            <p:commandLink value="eliminar" actionListener="#{agregarFicha.eliminarCorreo(c)}"/>
                        </p:column>
                    </p:dataTable>

                    <p:dataTable id="dtTel" value="#{agregarFicha.prop.enteTelefonoCollection}" scrollHeight="65" scrollable="true" var="t" emptyMessage="No se encontro ningún Teléfono" style="width: 200px;">
                        <f:facet name="header">
                            <p:inputText value="#{agregarFicha.telefono.telefono}" />
                            <p:commandButton icon="ui-icon-plus" actionListener="#{agregarFicha.agregarTelefono()}" update="dtTel" styleClass="btnStyle" style=" height: 28px;"/>
                        </f:facet>
                        <p:column headerText="Teléfono" >
                            <h:outputLabel value="#{t.telefono}"/>
                        </p:column>
                        <p:column headerText="Eliminar"  width="60" >
                            <p:commandLink value="eliminar" actionListener="#{agregarFicha.eliminarTelefono(t)}"/>
                        </p:column>
                    </p:dataTable>
                </h:panelGrid>
                <br/><br/>
                <center style="float: bottom; ">
                    <p:commandButton actionListener="#{agregarFicha.agragarNuevoProp()}" value="Agregar" rendered="#{agregarFicha.nuevo}" icon="ui-icon-plus" style="height: 30px;" styleClass="btnStyle"/>
                    <p:commandButton actionListener="#{agregarFicha.modificarEnte()}" value="Modificar" rendered="#{!agregarFicha.nuevo}" icon="ui-icon-pencil" style="height: 30px;" styleClass="btnStyle"/>
                </center>
            </h:form>
        </p:dialog>

        <p:dialog id="dSelectRep" header="Representantes" widgetVar="dSelectRep" resizable="false" modal="false" position="center" closable="true" width="800">
            <h:form id="formSelectRep">
                <p:dataTable id="dtIntervLazy" paginator="true" lazy="true" rows="10" rowsPerPageTemplate="10,30,50" scrollHeight="350" scrollable="true"
                             paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {CurrentPageReport} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             value="#{agregarFicha.enteLazy}" var="user" emptyMessage="No se encontró ningún Item">
                    <p:column headerText="C.I./R.U.C." style="text-align: center;" filterBy="#{user.ciRuc}" filterStyle="width: 80%;" width="120">
                        <h:outputText value="#{user.ciRuc}" style="text-align: center; font-size: 12px"/>
                    </p:column>
                    <p:column headerText="Nombres" style="text-align: center" filterBy="#{user.nombres}" filterStyle="width: 80%;" >
                        <h:outputText value="#{user.nombres}"/>
                    </p:column>
                    <p:column headerText="Apellidos" style="text-align: center" filterBy="#{user.apellidos}" filterStyle="width: 80%;" >
                        <h:outputText value="#{user.apellidos}"/>
                    </p:column>   
                    <p:column headerText="Selecc." style="text-align: center;" width="60">
                        <p:commandButton icon="ui-icon-plusthick" style="height: 20px;" styleClass="btnStyle" actionListener="#{agregarFicha.agregarRepresentante(user)}" />                           
                    </p:column>
                </p:dataTable>
            </h:form>
        </p:dialog>
    </ui:define>
</ui:composition>
