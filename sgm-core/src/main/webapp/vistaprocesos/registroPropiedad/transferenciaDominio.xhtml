<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    template="/template/template.xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pe="http://primefaces.org/ui/extensions">
    <ui:define name="metadata">
        <f:metadata>
            <f:event type="preRenderView" listener="#{transferenciaDominio.doPreRenderView()}"/>
            <f:viewParam name="codeTask" value="#{transferenciaDominio.idTarea}" />
        </f:metadata>
    </ui:define>
    <ui:define name="top"><h3>Transferencia de Dominio</h3></ui:define>
    <ui:define name="content">
        <h:form id="formTransfDomin">
            <p:outputLabel value="Transferencia ya fue realizada. Por favor imprima el documento y finalice tarea."
                           rendered="#{transferenciaDominio.realizado}" style="font-weight: bolder; font-size: 18px; color: #0033FF;"/>
            <p:accordionPanel id="accPanelTD">
                <p:tab title="Informacion Ficha Registral" titleStyle="font-weight: bold;background: #616161; color: #FFFFFF;">
                    <p:panelGrid styleClass="noBorder" columns="6" style="font-weight: bolder;font-size: 12px;">
                        No Ficha:
                        <p:outputLabel value="#{transferenciaDominio.ficha.numFicha}"/>
                        Fecha Apertura:
                        <p:outputLabel value="#{transferenciaDominio.ficha.fechaApe}">
                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                        </p:outputLabel>
                        Parroquia:
                        <p:outputLabel value="#{transferenciaDominio.ficha.parroquia.descripcion}"/>
                    </p:panelGrid>
                    <p:inputTextarea style="width: 100%;" value="#{transferenciaDominio.ficha.linderos}" autoResize="false" readonly="true" rows="12"/>
                    <br/><br/>
                    <p:dataTable id="dtMovFicIn" value="#{transferenciaDominio.listMovFich}" var="mf" style="width: 100%;text-align: center" resizableColumns="true"
                                 emptyMessage="No se encontraron elementos" scrollHeight="250" scrollable="true" rowIndexVar="rowIndex">
                        <f:facet name="header">
                            Movimientos Registrales de la Ficha
                        </f:facet>
                        <p:column headerText="No" width="60">
                            #{rowIndex+1}
                        </p:column>
                        <p:column headerText="Libro">
                            <p:outputLabel value="#{mf.movimiento.libro.nombre}"/>
                        </p:column>
                        <p:column headerText="Acto">
                            <p:outputLabel value="#{mf.movimiento.acto.nombre}"/>
                        </p:column>
                        <p:column headerText="Num.Tomo" width="100">
                            <p:outputLabel value="#{mf.movimiento.numTomo}"/>
                        </p:column>
                        <p:column headerText="Num.Repertorio" width="120">
                            <p:outputLabel value="#{mf.movimiento.numRepertorio}"/>
                        </p:column>
                        <p:column headerText="Num.Inscripcion" width="120">
                            <p:outputLabel value="#{mf.movimiento.numInscripcion}"/>
                        </p:column>
                        <p:column headerText="Fec.Inscripcion" width="120">
                            <p:outputLabel value="#{mf.movimiento.fechaInscripcion}">
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </p:outputLabel>
                        </p:column>
                        <p:column headerText="Ver" width="50">
                            <p:commandLink actionListener="#{transferenciaDominio.showDlgMovs(mf.movimiento)}">
                                <p:graphicImage value="/css/homeIconsImages/abrir.png" height="16"/>   
                            </p:commandLink>
                        </p:column>
                    </p:dataTable>
                    <br/>
                </p:tab>
                <p:tab title="Buscar Predio" titleStyle="font-weight: bold;background: #616161; color: #FFFFFF;">
                    <div align="center">
                        <p:commandButton value="Buscar Predio" icon="ui-icon-search" styleClass="btnStyle" actionListener="#{transferenciaDominio.showDlgPredios()}"/>
                    </div>
                    <h:panelGroup id="pnlGrpPredio">
                        <p:panelGrid style="width: 100%;text-align: center;font-weight: bolder;" styleClass="noBorder">
                            <p:row>  
                                <p:column >Sector</p:column>
                                <p:column >Mnz.</p:column>
                                <p:column >Cdla.</p:column>
                                <p:column >Mnz. Div</p:column>
                                <p:column>Solar</p:column>
                                <p:column>Div1</p:column>
                                <p:column>Div2</p:column>
                                <p:column>Div3</p:column>
                                <p:column>Div4</p:column>
                                <p:column>Div5</p:column>
                                <p:column>Div6</p:column>
                                <p:column>Div7</p:column>
                                <p:column>Div8</p:column>
                                <p:column>Div9</p:column>
                                <p:column>Phv</p:column>
                                <p:column>Phh</p:column>
                            </p:row>  
                            <p:row>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.sector}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.mz}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.cdla}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.mzdiv}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.solar}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.div1}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.div2}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.div3}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.div4}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.div5}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.div6}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.div7}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.div8}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.div9}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.phv}"/></p:column>
                                <p:column><p:inputText readonly="true" style="width: 100%" value="#{transferenciaDominio.predio.phh}"/></p:column>
                            </p:row>
                        </p:panelGrid><br/>
                        <p:panelGrid styleClass="noBorder" style="width: 100%;font-weight: bolder;" columns="8">
                            No Predio:
                            <p:inputText value="#{transferenciaDominio.predio.numPredio}" readonly="true"/>
                            Sec. Urb.:
                            <p:inputText value="#{transferenciaDominio.predio.urbSecnew}" readonly="true"/>
                            Mz. Urb.:
                            <p:inputText value="#{transferenciaDominio.predio.urbMz}" readonly="true"/>
                            Sl. Urb.:
                            <p:inputText value="#{transferenciaDominio.predio.urbSolarnew}" readonly="true"/>
                        </p:panelGrid>
                        <br/>
                        <p:panelGrid style="width: 100%;text-align: center;font-weight: bolder;" styleClass="noBorder">
                            <p:row>
                                <p:column colspan="8">
                                    LINDEROS SEGUN LEVANTAMIENTO
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column>
                                    Norte:
                                </p:column>
                                <p:column>
                                    <p:inputText readonly="true" value="#{transferenciaDominio.predio6.lindLevNorte}"/>
                                </p:column>
                                <p:column>
                                    Con:
                                </p:column>
                                <p:column>
                                    <p:inputText readonly="true" value="#{transferenciaDominio.predio6.lindLevNorteCon}"/>
                                </p:column>
                                <p:column>
                                    Sur:
                                </p:column>
                                <p:column>
                                    <p:inputText readonly="true" value="#{transferenciaDominio.predio6.lindLevSur}"/>
                                </p:column>
                                <p:column>
                                    Con:
                                </p:column>
                                <p:column>
                                    <p:inputText readonly="true" value="#{transferenciaDominio.predio6.lindLevSurCon}"/>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column>
                                    Este:
                                </p:column>
                                <p:column>
                                    <p:inputText readonly="true" value="#{transferenciaDominio.predio6.lindLevEste}"/>
                                </p:column>
                                <p:column>
                                    Con:
                                </p:column>
                                <p:column>
                                    <p:inputText readonly="true" value="#{transferenciaDominio.predio6.lindLevEsteCon}"/>
                                </p:column>
                                <p:column>
                                    Oeste:
                                </p:column>
                                <p:column>
                                    <p:inputText readonly="true" value="#{transferenciaDominio.predio6.lindLevOeste}"/>
                                </p:column>
                                <p:column>
                                    Con:
                                </p:column>
                                <p:column>
                                    <p:inputText readonly="true" value="#{transferenciaDominio.predio6.lindLevOesteCon}"/>
                                </p:column>
                            </p:row>
                        </p:panelGrid><br/>
                        <p:dataTable value="#{transferenciaDominio.propietarios}" var="pt" emptyMessage="No se encontraron datos..."
                                     style="text-align: center;width: 100%;" scrollable="true" scrollHeight="200">
                            <f:facet name="header">
                                Propietarios Actuales
                            </f:facet>
                            <p:column headerText="Tipo Propietario" width="200">
                                <h:outputText value="#{pt.tipo.valor}"/>
                            </p:column>
                            <p:column headerText="C.I. / R.U.C " width="300">
                                <h:outputText value="#{pt.ente.ciRuc}"/>
                            </p:column>
                            <p:column headerText="Nombres/Razon Social" style="text-align: center">
                                <h:outputText value="#{pt.ente.razonSocial}" rendered="#{!pt.ente.esPersona}"/>
                                <h:outputText value="#{pt.ente.nombres} #{pt.ente.apellidos}" rendered="#{pt.ente.esPersona}"/>
                            </p:column>
                        </p:dataTable>
                    </h:panelGroup>
                </p:tab>
                <p:tab title="Nuevos Propietarios" titleStyle="font-weight: bold;background: #616161; color: #FFFFFF;"
                       rendered="#{!transferenciaDominio.realizado}">
                    <div>
                        CI/RUC:<p:spacer width="20" height="1"/>
                        <p:inputText value="#{transferenciaDominio.documento}" /><p:spacer width="20" height="1"/>
                        <p:commandButton value="Buscar" icon="ui-icon-search" styleClass="btnStyle" update="dtNewProp"
                                         actionListener="#{transferenciaDominio.buscarEnte()}"/>
                        <p:commandButton value="Agregar Propietario" icon="ui-icon-plus" styleClass="btnStyle" style="float: right;"
                                         actionListener="#{transferenciaDominio.showDlgEntes()}"/>
                    </div>
                    <p:dataTable id="dtNewProp" value="#{transferenciaDominio.propietariosNew}" var="pn" emptyMessage="No se encontraron datos..."
                                 style="text-align: center;width: 100%;" scrollable="true" scrollHeight="200" rowIndexVar="ind">
                        <f:facet name="header">
                            Propietarios Nuevos
                        </f:facet>
                        <p:column headerText="Tipo Propietario" width="200">
                            <h:outputText value="#{pn.tipo.valor}"/>
                        </p:column>
                        <p:column headerText="C.I. / R.U.C " width="200">
                            <h:outputText value="#{pn.ente.ciRuc}"/>
                        </p:column>
                        <p:column headerText="Nombres/Razon Social" style="text-align: center">
                            <h:outputText value="#{pn.ente.razonSocial}" rendered="#{!pn.ente.esPersona}"/>
                            <h:outputText value="#{pn.ente.nombres} #{pn.ente.apellidos}" rendered="#{pn.ente.esPersona}"/>
                        </p:column>
                        <p:column headerText="Edit" width="50">
                            <p:commandLink actionListener="#{transferenciaDominio.editPropietario(pn)}">
                                <p:graphicImage value="/css/homeIconsImages/edit.png" height="16"/>   
                            </p:commandLink>
                        </p:column>
                        <p:column headerText="Delet" width="50">
                            <p:commandLink actionListener="#{transferenciaDominio.eliminarPropietario(ind)}" update="dtNewProp">
                                <p:graphicImage value="/css/homeIconsImages/delete.png" height="16"/>   
                            </p:commandLink>
                        </p:column>
                    </p:dataTable>
                </p:tab>
            </p:accordionPanel>
            <br/>
            <div align="center">
                <p:commandButton value="Guardar Transferencia" icon="ui-icon-disk" styleClass="btnStyle" 
                                 actionListener="#{transferenciaDominio.dialogConfirmacion()}" disabled="#{transferenciaDominio.guardado || transferenciaDominio.realizado}"/>
                <p:spacer width="30" height="1"/>
                <p:commandButton value="Imprimir Certificado" icon="ui-icon-print" styleClass="btnStyle"
                                 actionListener="#{transferenciaDominio.imprimirPdf(false)}"/>
                <p:spacer width="30" height="1"/>
                <p:commandButton icon="ui-icon-check" value="Completar Tarea" styleClass="btnStyle"
                                 actionListener="#{transferenciaDominio.continuar()}"/>
            </div>
        </h:form>

        <p:dialog header="Movimiento Registral Seleccionado" widgetVar="dlgMovRegistralSelec" resizable="false" modal="true" closeOnEscape="true" width="800" height="550">
            <h:form id="formMovRegistralSelec">
                <p:fieldset legend="Datos de la Inscripcion">
                    <p:panelGrid styleClass="noBorder" style="width: 100%;font-size: 12px;font-weight: bolder;">
                        <p:row>
                            <p:column>
                                Num.Inscrip.:
                                <p:outputLabel value="#{transferenciaDominio.movimiento.numInscripcion}"/>
                            </p:column>
                            <p:column>
                                Fecha Inscrip.:
                                <p:outputLabel value="#{transferenciaDominio.movimiento.fechaInscripcion}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </p:outputLabel>
                            </p:column>
                            <p:column>
                                Num.Rep.: 
                                <p:outputLabel  value="#{transferenciaDominio.movimiento.numRepertorio}"/>
                            </p:column>
                            <p:column>
                                Fecha Rep.: 
                                <p:outputLabel value="#{transferenciaDominio.movimiento.fechaRepertorio}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </p:outputLabel>
                            </p:column>
                        </p:row>                  
                        <p:row>
                            <p:column colspan="2">
                                Libro: 
                                <p:outputLabel value="#{transferenciaDominio.movimiento.libro.nombre}"/>
                            </p:column>
                            <p:column colspan="2">
                                Acto: 
                                <p:outputLabel value="#{transferenciaDominio.movimiento.acto.nombre}"/>
                            </p:column>
                        </p:row>                  
                        <p:row>
                            <p:column>
                                Tomo: 
                                <p:outputLabel value="#{transferenciaDominio.movimiento.numTomo}"/>
                            </p:column>
                            <p:column>
                                Folio Inicio: 
                                <p:outputLabel value="#{transferenciaDominio.movimiento.folioInicio}"/>
                            </p:column>
                            <p:column>
                                Folio Fin: 
                                <p:outputLabel value="#{transferenciaDominio.movimiento.folioFin}"/>
                            </p:column>
                            <p:column>
                                Estado/Mov: 
                                <p:outputLabel value="#{transferenciaDominio.movimiento.estado}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                Canton: 
                                <p:outputLabel value="#{transferenciaDominio.movimiento.codigoCan.nombre}"/>
                            </p:column>
                            <p:column>
                                Fech/Otorg.:
                                <p:outputLabel value="#{transferenciaDominio.movimiento.fechaOto}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </p:outputLabel>
                            </p:column>
                            <p:column colspan="2">
                                Not./Juz.: 
                                <p:outputLabel value="#{transferenciaDominio.movimiento.enteJudicial.nombre}"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="3">
                                Escri/Juicio/Resolu: 
                                <p:outputLabel value="#{transferenciaDominio.movimiento.escritJuicProvResolucion}"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                </p:fieldset>
                <p:tabView>
                    <p:tab title="Intervinientes">
                        <p:dataTable emptyMessage="No hay datos para mostrar..." var="inter" scrollable="true" scrollHeight="240"
                                     value="#{transferenciaDominio.modelo.listMovCli}" style="text-align: center;" resizableColumns="true">
                            <p:column headerText="C.I/R.U.C" width="120">
                                <p:outputLabel value="#{inter.enteInterv.cedRuc}"/>
                            </p:column>
                            <p:column headerText="Nombre del Cliente">
                                <p:outputLabel value="#{inter.enteInterv.nombre}"/>
                            </p:column>
                            <p:column headerText="Papel">
                                <p:outputLabel value="#{inter.papel.papel}"/>
                            </p:column>
                            <p:column headerText="Domicilio" width="120">
                                <p:outputLabel value="#{inter.domicilio.nombre}"/>
                            </p:column>
                            <p:column headerText="Estado" width="100">
                                <p:outputLabel value="#{inter.estado}"/>
                            </p:column>
                            <p:column headerText="Relacion">
                                <p:outputLabel value="#{inter.nombres}"/>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="Bienes">
                        <p:dataTable value="#{transferenciaDominio.modelo.fichas}" var="fich" style="width: 100%;text-align: center" scrollable="true" 
                                     scrollHeight="250" rowIndexVar="rowIndex" emptyMessage="No se encontraron elementos..." resizableColumns="true">
                            <p:column headerText="No" width="50">
                                #{rowIndex+1}
                            </p:column>
                            <p:column headerText="Num. Ficha" width="100">
                                <p:outputLabel value="#{fich.numFicha}"/>
                            </p:column>
                            <p:column headerText="Cod.Predial" width="200">
                                <p:outputLabel value="#{fich.codigoPredial}"/>
                            </p:column>
                            <p:column headerText="Linderos" width="2500" style="text-align: left;">
                                <p:outputLabel value="#{fich.linderos}"/>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="Observacion">
                        <p:inputTextarea value="#{transferenciaDominio.movimiento.observacion}" readonly="true"
                                         autoResize="false" scrollHeight="200" style="width: 100%; height: 250px"/>
                    </p:tab>
                </p:tabView>
            </h:form>
        </p:dialog>

        <p:dialog header="Seleccione Predio" widgetVar="dlgSelectPredio" modal="true" resizable="false" width="900" height="500">
            <h:form id="formSelecPredio">
                <center>
                    <p:selectOneRadio id="optconsult" value="#{transferenciaDominio.codPredial}" layout="custom">
                        <f:selectItem itemLabel="Codigo Urbanistico" itemValue="#{false}" />
                        <f:selectItem itemLabel="Codigo Predial" itemValue="#{true}" />
                        <p:ajax update="formSelecPredio" event="change"/>
                    </p:selectOneRadio>
                    <h:panelGrid columns="4" style="margin: 0 auto">
                        <p:radioButton id="opt1" for="optconsult" itemIndex="0"/>
                        <h:outputLabel for="opt1" value="Codigo Urbanistico" />
                        <p:radioButton id="opt2" for="optconsult" itemIndex="1"/>
                        <h:outputLabel for="opt2" value="Codigo Predial" />
                    </h:panelGrid>
                </center>
                <p:dataTable id="dtSelPred" paginator="true" lazy="true" style="text-align: center;" rows="10" filterEvent="enter"
                             paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                             value="#{transferenciaDominio.predioLazy}" var="pl" emptyMessage="No se encontró Movimientos">
                    <p:column headerText="NoPredio" filterBy="#{pl.numPredio}" sortBy="#{pl.numPredio}" filterStyle="width: 90%" style="width: 100px;">
                        <p:outputLabel value="#{pl.numPredio}"/>
                    </p:column>
                    <p:column headerText="Sector" rendered="#{transferenciaDominio.codPredial}" filterBy="#{pl.sector}" sortBy="#{pl.sector}" filterStyle="width: 90%" style="width: 80px;">
                        <p:outputLabel value="#{pl.sector}"/>
                    </p:column>
                    <p:column headerText="Mz." rendered="#{transferenciaDominio.codPredial}" filterBy="#{pl.mz}" sortBy="#{pl.mz}" filterStyle="width: 90%" style="width: 60px;">
                        <p:outputLabel value="#{pl.mz}"/>
                    </p:column>
                    <p:column headerText="Cdla." rendered="#{transferenciaDominio.codPredial}" filterBy="#{pl.cdla}" sortBy="#{pl.cdla}" filterStyle="width: 90%" style="width: 70px;">
                        <p:outputLabel value="#{pl.cdla}"/>
                    </p:column>
                    <p:column headerText="Mz. Div." rendered="#{transferenciaDominio.codPredial}" filterBy="#{pl.mzdiv}" sortBy="#{pl.mzdiv}" filterStyle="width: 90%" style="width: 80px;">
                        <p:outputLabel value="#{pl.mzdiv}"/>
                    </p:column>
                    <p:column headerText="Solar" rendered="#{transferenciaDominio.codPredial}" filterBy="#{pl.solar}" sortBy="#{pl.solar}" filterStyle="width: 90%" style="width: 70px;">
                        <p:outputLabel value="#{pl.solar}"/>
                    </p:column>
                    <p:column headerText="Div.1" rendered="#{transferenciaDominio.codPredial}" filterBy="#{pl.div1}" sortBy="#{pl.div1}" filterStyle="width: 90%" style="width: 130px;">
                        <p:outputLabel value="#{pl.div1},#{pl.div2},#{pl.div3},#{pl.div4},#{pl.div5},#{pl.div6},#{pl.div7},#{pl.div8},#{pl.div9},#{pl.phv},#{pl.phh}"/>
                    </p:column>
                    <p:column headerText="Urbanizacion" filterBy="#{pl.ciudadela.nombre}" rendered="#{!transferenciaDominio.codPredial}" filterOptions="#{transferenciaDominio.lisUrbanizaciones}" filterMatchMode="exact" >
                        <p:outputLabel value="#{pl.ciudadela.nombre}"/>
                    </p:column>
                    <p:column width="100" style="width: 70px;" headerText="Mz.Urb." rendered="#{!transferenciaDominio.codPredial}" filterBy="#{pl.urbMz}" sortBy="#{pl.urbMz}" filterStyle="width: 90%">
                        <p:outputLabel value="#{pl.urbMz}"/>
                    </p:column>
                    <p:column width="100" headerText="Sl.Urb" rendered="#{!transferenciaDominio.codPredial}" filterBy="#{pl.urbSolarnew}" sortBy="#{pl.urbSolarnew}" filterStyle="width: 90%">
                        <p:outputLabel value="#{pl.urbSolarnew}"/>
                    </p:column>
                    <p:column headerText="Dir." rendered="#{transferenciaDominio.codPredial}" width="100">
                        <p:outputLabel value="Mz. #{pl.urbMz} Sl. #{pl.urbSolarnew}"/>
                    </p:column>
                    <p:column headerText="Selec." width="50">
                        <p:commandLink actionListener="#{transferenciaDominio.selectPredio(pl)}">
                            <p:graphicImage value="/css/homeIconsImages/ir.png" height="16"/>   
                        </p:commandLink>
                    </p:column>
                </p:dataTable>
            </h:form>
        </p:dialog>

        <p:dialog id="dlgSelectReprest" header="Propietarios" widgetVar="dlgSelectReprest" resizable="false" modal="true" position="center" closable="true" width="800">
            <h:form id="formSelectInterv">
                <p:panelGrid styleClass="noBorder" style="width: 100%">
                    <p:row>
                        <p:column style="text-align: right">
                            <p:outputLabel value="Tipo Persona:" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:selectOneMenu value="#{transferenciaDominio.natural}">
                                <f:selectItem itemLabel="Natural" itemValue="#{true}" />
                                <f:selectItem itemLabel="Juridica" itemValue="#{false}" />
                                <p:ajax listener="#{transferenciaDominio.cambioLazyEnte()}" update="dtIntervLazy"/>
                            </p:selectOneMenu>
                        </p:column>
                    </p:row>
                </p:panelGrid>
                <p:dataTable id="dtIntervLazy" paginator="true" lazy="true" rows="10" filterEvent="enter" style="text-align: center;"
                             paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                             value="#{transferenciaDominio.enteLazy}" var="user" emptyMessage="Sin elementos...">
                    <p:column headerText="C.I./R.U.C."  filterBy="#{user.ciRuc}" filterStyle="width: 90%;" width="120">
                        <h:outputText value="#{user.ciRuc}"/>
                    </p:column>
                    <p:column headerText="Nombres" filterBy="#{user.nombres}" filterStyle="width: 80%;" rendered="#{transferenciaDominio.natural}">
                        <h:outputText value="#{user.nombres}"/>
                    </p:column>
                    <p:column headerText="Apellidos" filterBy="#{user.apellidos}" filterStyle="width: 80%;" rendered="#{transferenciaDominio.natural}">
                        <h:outputText value="#{user.apellidos}"/>
                    </p:column>
                    <p:column headerText="Razon Social" filterBy="#{user.razonSocial}" filterStyle="width: 80%;" rendered="#{!transferenciaDominio.natural}">
                        <h:outputText value="#{user.razonSocial}"/>
                    </p:column>
                    <p:column headerText="Selec." width="50">
                        <p:commandLink actionListener="#{transferenciaDominio.agregarRepresentante(user)}">
                            <p:graphicImage value="/css/homeIconsImages/ok.png" height="16"/>   
                        </p:commandLink>
                    </p:column>
                </p:dataTable>
            </h:form>
        </p:dialog>

        <p:dialog id="dlgInterviniente" header="Interviniente" widgetVar="dlgInterv" resizable="false" modal="true" 
                  position="center" closable="false">
            <h:form id="formInterv">
                <p:panelGrid styleClass="noBorder" style="width: 450px">
                    <p:row>
                        <p:column>
                            <p:outputLabel value="C.I./R.U.C.:" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:inputText value="#{transferenciaDominio.persona.ciRuc}" readonly="true"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel value="Tipo Propietario:" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:selectOneMenu value="#{transferenciaDominio.tipoPropietario}" converter="entityConverter">
                                <f:selectItems value="#{transferenciaDominio.listTipoProp}" var="item" itemLabel="#{item.valor}" itemValue="#{item}"/>
                            </p:selectOneMenu>
                            <p:selectBooleanCheckbox value="#{transferenciaDominio.residente}" style="float: right;"/>
                            <p:spacer width="20" height="1" style="float: right;"/>
                            <p:outputLabel value="Residente:" style="float: right;font-weight: bolder;font-size: 14px;"/>
                        </p:column>
                    </p:row>
                    <p:row rendered="#{transferenciaDominio.esPersona}">
                        <p:column>
                            <p:outputLabel value="Nombres:" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:inputText value="#{transferenciaDominio.persona.nombres}" style="width: 100%"/>
                        </p:column>
                    </p:row>
                    <p:row rendered="#{transferenciaDominio.esPersona}">
                        <p:column>
                            <p:outputLabel value="Apellidos:" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:inputText value="#{transferenciaDominio.persona.apellidos}" style="width: 100%"/>
                        </p:column>
                    </p:row>
                    <p:row rendered="#{!transferenciaDominio.esPersona}">
                        <p:column>
                            <p:outputLabel value="Razon Social:" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:inputText value="#{transferenciaDominio.persona.razonSocial}" style="width: 100%"/>
                        </p:column>
                    </p:row>
                    <p:row rendered="#{!transferenciaDominio.esPersona}">
                        <p:column>
                            <p:outputLabel value="Nombre Comercial:" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:inputText value="#{transferenciaDominio.persona.nombreComercial}" style="width: 100%"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel value="Direccion :"/>
                        </p:column>
                        <p:column>
                            <p:inputText value="#{transferenciaDominio.persona.direccion}" style="width: 100%"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel value="Email:" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:inputText id="emailInterv" value="#{transferenciaDominio.emailNew}" size="35" placeholder="Ejemplo: correo@ejemplo.com"/>
                            <p:spacer width="20" height="1"/>
                            <p:commandButton value="Agregar" icon="ui-icon-plus" update="dtEmailIntrv,emailInterv"
                                             actionListener="#{transferenciaDominio.agregarEmail()}" />
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="2">
                            <p:dataTable id="dtEmailIntrv" value="#{transferenciaDominio.persona.enteCorreoCollection}" var="corr" 
                                         scrollable="true" scrollHeight="80" style="text-align: center">
                                <p:column headerText="Email">
                                    <p:outputLabel value="#{corr.email}"/>
                                </p:column>
                                <p:column headerText="Delete" width="60">
                                    <p:commandLink actionListener="#{transferenciaDominio.eliminarEmail(corr)}"  update="dtEmailIntrv">
                                        <p:graphicImage value="/css/homeIconsImages/delete.png" height="16"/>   
                                    </p:commandLink>
                                </p:column>
                            </p:dataTable>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel value="Teléfono:" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:inputText id="tlfInt" value="#{transferenciaDominio.tlfnNew}" size="35" placeholder="Ejemplo: 045555555 ó 0988888888"/>
                            <p:spacer width="20" height="1"/>
                            <p:commandButton value="Agregar" actionListener="#{transferenciaDominio.agregarTlfn()}" 
                                             update="dtTeleInt,tlfInt" icon="ui-icon-plus"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="2">
                            <p:dataTable id="dtTeleInt" value="#{transferenciaDominio.persona.enteTelefonoCollection}" var="tlfn" 
                                         scrollable="true" scrollHeight="80" style="text-align: center;">
                                <p:column headerText="Telefono">
                                    <p:outputLabel value="#{tlfn.telefono}"/>
                                </p:column>
                                <p:column headerText="Delete" width="60">
                                    <p:commandLink actionListener="#{transferenciaDominio.eliminarTlfn(tlfn)}"  update="dtTeleInt">
                                        <p:graphicImage value="/css/homeIconsImages/delete.png" height="16"/>   
                                    </p:commandLink>
                                </p:column>
                            </p:dataTable>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="2" style="text-align: center">
                            <p:commandButton value="Guardar" icon="ui-icon-disk" styleClass="btnStyle"
                                             actionListener="#{transferenciaDominio.guardarInterviniente()}"/>
                            <p:spacer width="40" height="1"/>
                            <p:commandButton value="Cancelar" icon="ui-icon-cancel" styleClass="btnStyle" oncomplete="PF('dlgInterv').hide();"
                                             actionListener="#{transferenciaDominio.inicializarVariables()}"/>
                        </p:column>
                    </p:row>
                </p:panelGrid>
            </h:form>
        </p:dialog>

        <p:dialog id="dlgConfirmacion" header="Confirmación" widgetVar="dlgConfirm" modal="true" resizable="false" width="320">
            <h:form id="formConfirm">
                <center>
                    <p:outputLabel value="¿Seguro de guardar la Transferencia de Dominio para el Predio No #{transferenciaDominio.predio.numPredio}?" style="font-weight: bolder; font-size: 16px;"/>
                    <br/><br/>
                    <p:commandButton id="btnConfirm" value="Guardar" icon="ui-icon-disk" styleClass="btnStyle"
                                     actionListener="#{transferenciaDominio.guardar()}"/>
                </center>
            </h:form>
        </p:dialog>

    </ui:define>
</ui:composition>