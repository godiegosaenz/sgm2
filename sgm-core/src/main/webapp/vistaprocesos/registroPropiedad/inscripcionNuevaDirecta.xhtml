<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/template/template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:pe="http://primefaces.org/ui/extensions">
    <ui:define name="metada">
        <f:metadata>
            <f:event type="preRenderView" listener="#{inscripcionNuevaDirecta.doPreRenderView()}" />
        </f:metadata>
    </ui:define>
    <ui:define name="top"><h3>Ingreso Inscripcion Antigua</h3></ui:define>
    <ui:define name="content">
        <h:form  id="formNuevInsc">
            <p:fieldset legend="Datos Inscripcion">
                <p:panelGrid styleClass="noBorder" style="margin: 0 auto;">
                    <p:row>
                        <p:column>
                            Tipo Inscripcion:
                        </p:column>
                        <p:column>
                            <p:inputText value="Propiedad" readonly="true"/>
                        </p:column>
                        <p:column>
                            Num.Inscripcion:
                        </p:column>
                        <p:column>
                            <pe:inputNumber value="#{inscripcionNuevaDirecta.movimiento.numInscripcion}" decimalPlaces="0"/>
                        </p:column>
                        <p:column>
                            Num.Repertorio:
                        </p:column>
                        <p:column>
                            <pe:inputNumber value="#{inscripcionNuevaDirecta.movimiento.numRepertorio}" decimalPlaces="0"/>
                        </p:column>
                        <p:column>
                            Tomo:
                        </p:column>
                        <p:column>
                            <pe:inputNumber value="#{inscripcionNuevaDirecta.movimiento.numTomo}" decimalPlaces="0"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            Fech.Inscripcion:
                        </p:column>
                        <p:column>
                            <p:calendar value="#{inscripcionNuevaDirecta.movimiento.fechaInscripcion}" pattern="dd/MM/yyyy"
                                        placeholder="dd/MM/yyyy" maxdate="sysdate"/>
                        </p:column>
                        <p:column>
                            Fech.Otorgamiento:
                        </p:column>
                        <p:column>
                            <p:calendar value="#{inscripcionNuevaDirecta.movimiento.fechaOto}" pattern="dd/MM/yyyy"
                                        placeholder="dd/MM/yyyy" maxdate="sysdate"/>
                        </p:column>
                        <p:column>
                            FolioInicial:
                        </p:column>
                        <p:column>
                            <pe:inputNumber value="#{inscripcionNuevaDirecta.movimiento.folioInicio}" decimalPlaces="0"/>
                        </p:column>
                        <p:column>
                            FolioFinal:
                        </p:column>
                        <p:column>
                            <pe:inputNumber value="#{inscripcionNuevaDirecta.movimiento.folioFin}" decimalPlaces="0"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            Libro:
                        </p:column>
                        <p:column colspan="7">
                            <p:selectOneMenu value="#{inscripcionNuevaDirecta.movimiento.libro}" converter="entityConverter">
                                <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" />  
                                <f:selectItems value="#{inscripcionNuevaDirecta.regLibroList}" var="libro" 
                                               itemLabel="#{libro.nombre}" itemValue="#{libro}"/>  
                            </p:selectOneMenu>
                        </p:column>
                    </p:row>
                </p:panelGrid>
            </p:fieldset>
            <p:tabView id="tVdetalle">
                <p:tab title="Inscripcion">
                    <p:panelGrid id="pnlgdIngre" styleClass="noBorder">
                        <p:row>
                            <p:column>
                                Canton: 
                            </p:column>
                            <p:column>
                                <p:selectOneMenu  value="#{inscripcionNuevaDirecta.movimiento.codigoCan}" converter="entityConverter">  
                                    <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}" />  
                                    <f:selectItems value="#{inscripcionNuevaDirecta.catCantonsList}" var="item" itemLabel="#{item.nombre}" itemValue="#{item}"/>  
                                </p:selectOneMenu>
                            </p:column>
                            <p:column>
                                Fecha Otorgamiento: 
                            </p:column>
                            <p:column>
                                <p:calendar value="#{inscripcionNuevaDirecta.movimiento.fechaOto}" pattern="dd/MM/yyyy"
                                            placeholder="dd/MM/yyyy" maxdate="sysdate"/>
                            </p:column>
                            <p:column>
                                Inscripcion Realizada por Orden Judicial:
                            </p:column>
                            <p:column>
                                <p:selectOneMenu  value="#{inscripcionNuevaDirecta.movimiento.ordJud}">  
                                    <f:selectItem itemLabel="SI" itemValue="#{true}"/>  
                                    <f:selectItem itemLabel="NO" itemValue="#{false}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                Fech.Resolucion:
                            </p:column>
                            <p:column>
                                <p:calendar value="#{inscripcionNuevaDirecta.movimiento.fechaResolucion}" pattern="dd/MM/yyyy"
                                            placeholder="dd/MM/yyyy" maxdate="sysdate"/>
                            </p:column>
                            <p:column>
                                Escrit/Juic/Provi/Resolucion:
                            </p:column>
                            <p:column colspan="3">
                                <p:inputText value="#{inscripcionNuevaDirecta.movimiento.escritJuicProvResolucion}" style="width: 100%"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                Acto:
                            </p:column>
                            <p:column colspan="5">
                                <p:inputText id="actonombabrev" value="#{inscripcionNuevaDirecta.abrevActo}" style="width: 75px" placeholder="Abreviatura">
                                    <p:ajax event="change" listener="#{inscripcionNuevaDirecta.buscarActoAbrev()}"/>
                                </p:inputText>
                                <p:spacer width="20" height="1"/>
                                <p:inputText id="actonomb" value="#{inscripcionNuevaDirecta.movimiento.acto.nombre}" readonly="true" style="width: 300px"/>
                                <p:spacer width="20" height="1"/>
                                <p:commandButton value="Buscar Acto" icon="ui-icon-search" styleClass="btnStyle" actionListener="#{inscripcionNuevaDirecta.showDlgActos()}"/>
                            </p:column> 
                        </p:row>
                        <p:row>
                            <p:column>
                                Notaria/Juzg : 
                            </p:column>
                            <p:column colspan="5">
                                <p:inputText id="enteJudnombabrev" value="#{inscripcionNuevaDirecta.abrevEnJu}" style="width: 75px" placeholder="Abreviatura">
                                    <p:ajax event="change" listener="#{inscripcionNuevaDirecta.buscarNotariaAbrev()}"/>
                                </p:inputText>
                                <p:spacer width="20" height="1"/>
                                <p:inputText id="enteJudnomb" value="#{inscripcionNuevaDirecta.movimiento.enteJudicial.nombre}" style="width: 300px" readonly="true"/>
                                <p:spacer width="20" height="1"/>
                                <p:commandButton value="Buscar Not/Juzg" icon="ui-icon-search" styleClass="btnStyle" actionListener="#{inscripcionNuevaDirecta.showDlgNotarias()}"/>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                </p:tab>
                <p:tab title="Intervinientes">
                    <div style="float: right">
                        <p:commandButton icon="ui-icon-plus" value="Agregar Interv." styleClass="btnStyle" actionListener="#{inscripcionNuevaDirecta.showDlgIntervinientes()}"/>
                    </div>
                    <p:spacer height="35" width="0"/>
                    <p:dataTable id="dtInterviniente" value="#{inscripcionNuevaDirecta.movimientoClienteList}" var="inter" emptyMessage="Agregar Intervinientes"
                                 resizableColumns="true" liveResize="true" scrollable="true" scrollHeight="350" style="text-align: center" rowIndexVar="indexCli">
                        <p:column headerText="Papel">
                            <p:outputLabel value="#{inter.papel.papel}"/>
                        </p:column>
                        <p:column headerText="C.I/R.U.C" >
                            <p:outputLabel value="#{inter.enteInterv.cedRuc}"/>
                        </p:column>
                        <p:column headerText="Nombre">
                            <p:outputLabel value="#{inter.enteInterv.nombre}"/>
                        </p:column>
                        <p:column headerText="Estado" >
                            <p:outputLabel value="#{inter.estado}"/>
                        </p:column>
                        <p:column headerText="C.I./R.U.C.">
                            <p:outputLabel value="#{inter.cedula}"/>
                        </p:column>
                        <p:column headerText="Nombres">
                            <p:outputLabel value="#{inter.nombres}"/>
                        </p:column>
                        <p:column headerText="Edit" width="50">
                            <p:commandLink actionListener="#{inscripcionNuevaDirecta.editarInterviniente(inter)}">
                                <p:graphicImage value="/css/homeIconsImages/edit.png"/>   
                            </p:commandLink>
                        </p:column>
                        <p:column headerText="Elimin." width="50">
                            <p:commandLink actionListener="#{inscripcionNuevaDirecta.eliminarInterviniente(indexCli)}" update="dtInterviniente">
                                <p:graphicImage value="/css/homeIconsImages/delete.png" height="16"/>   
                            </p:commandLink>
                        </p:column>
                    </p:dataTable>
                </p:tab>
                <p:tab title="Observacion">
                    <p:inputTextarea value="#{inscripcionNuevaDirecta.movimiento.observacion}" rows="10" cols="130" scrollHeight="250" autoResize="false"/>
                    <p:spacer height="5"/>
                </p:tab>
                <p:tab title="Bienes">
                    <p:panelGrid style="width: 75%;margin: 0 auto;" styleClass="noBorder" columns="3">
                        <p:outputLabel value="Num. Ficha:"/>
                        <pe:inputNumber value="#{inscripcionNuevaDirecta.numFicha}" decimalPlaces="0"/>
                        <p:commandButton icon="ui-icon-search" value="Buscar Ficha" update="dtFichas" styleClass="btnStyle"
                                         actionListener="#{inscripcionNuevaDirecta.buscarByNumFicha()}"/>
                    </p:panelGrid>
                    <p:dataTable id="dtFichas" value="#{inscripcionNuevaDirecta.fichasList}" var="f" rowIndexVar="rowIndex" 
                                 scrollable="true" scrollHeight="250" style="text-align: center;width: 75%;margin: 0 auto;">
                        <p:column headerText="No" style="width: 45px">
                            #{rowIndex+1}
                        </p:column>
                        <p:column headerText="Ficha">
                            <p:outputLabel value="#{f.numFicha}"/>
                        </p:column>
                        <p:column headerText="Cod.Predial">
                            <p:outputLabel value="#{f.codigoPredial}"/>
                        </p:column>
                        <p:column headerText="Estado" width="100">
                            <p:outputLabel value="#{f.estado.valor}"/>
                        </p:column>
                        <p:column headerText="Edit." width="40">
                            <p:commandLink actionListener="#{inscripcionNuevaDirecta.showDlgEditLinderos(f)}">
                                <p:graphicImage value="/css/homeIconsImages/edit.png" height="16"/>   
                            </p:commandLink>
                        </p:column>
                        <p:column headerText="Inf." width="40">
                            <p:commandLink actionListener="#{inscripcionNuevaDirecta.verInformacionBienInmuebleFichas(f)}">
                                <p:graphicImage value="/css/homeIconsImages/abrir.png" height="16"/>   
                            </p:commandLink>
                        </p:column>
                        <p:column headerText="Elim." width="40">
                            <p:commandLink actionListener="#{inscripcionNuevaDirecta.eliminarFicha(rowIndex)}" update="dtFichas">
                                <p:graphicImage value="/css/homeIconsImages/delete.png" height="16"/>   
                            </p:commandLink>
                        </p:column>
                    </p:dataTable>
                </p:tab>
                <p:tab title="Referencia">
                    <div style="float: right">
                        <p:commandButton icon="ui-icon-plus" value="Agregar Referencias Mov." actionListener="#{inscripcionNuevaDirecta.showDlgMovimientos()}" styleClass="btnStyle"/>
                    </div>
                    <div style="clear: both;width: 100%"/>
                    <p:spacer width="0" height="5"/>
                    <p:dataTable id="dtMovimientosReff" value="#{inscripcionNuevaDirecta.movimientosReff}" var="m" emptyMessage="No se ha Agregado Ninguna Referencia" 
                                 scrollable="true" scrollHeight="300" rowIndexVar="rowIndex" style="text-align: center">
                        <p:column headerText="No" style="width: 45px">
                            #{rowIndex+1}
                        </p:column>
                        <p:column headerText="Libro">
                            <p:outputLabel value="#{m.libro.nombre}"/>
                        </p:column>
                        <p:column headerText="Acto">
                            <p:outputLabel value="#{m.acto.nombre}"/>
                        </p:column>
                        <p:column headerText="Inscripcion" width="100">
                            <p:outputLabel value="#{m.numInscripcion}"/>
                        </p:column>
                        <p:column headerText="Repertorio" width="100">
                            <p:outputLabel value="#{m.numRepertorio}"/>
                        </p:column>
                        <p:column headerText="Fec.Inscripcion" width="120">
                            <p:outputLabel value="#{m.fechaInscripcion}">
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </p:outputLabel>
                        </p:column>
                        <p:column headerText="Elim." width="50">
                            <p:commandLink actionListener="#{inscripcionNuevaDirecta.eliminarMovimientReff(rowIndex)}" update="dtMovimientosReff">
                                <p:graphicImage value="/css/homeIconsImages/delete.png" height="16"/>   
                            </p:commandLink>
                        </p:column>
                    </p:dataTable>
                </p:tab>
            </p:tabView>
            <p:panelGrid style="width: 100%;" styleClass="noBorder">
                <p:commandButton icon="ui-icon-disk" value="Guardar Inscripcion" styleClass="btnStyle" style="float: right;"
                                 actionListener="#{inscripcionNuevaDirecta.guardarMovimiento()}" disabled="#{inscripcionNuevaDirecta.btnDisable}"/>
            </p:panelGrid>
        </h:form>

        <p:dialog id="dlgActosid" header="Seleccionar Acto" widgetVar="dlgActos" resizable="false" modal="true" 
                  closeOnEscape="true" width="600" position="center">
            <h:form id="FormActos">
                <p:dataTable value="#{inscripcionNuevaDirecta.actosLazy}" var="actos" style="text-align: center" paginator="true" lazy="true"
                             paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                             rows="10" rowsPerPageTemplate="10,20,50" emptyMessage="No hay elementos." filterEvent="enter">
                    <p:column headerText="Abrev." sortBy="#{actos.abreviatura}" filterBy="#{actos.abreviatura}"
                              filterStyle="width: 75%" width="100">
                        <p:outputLabel value="#{actos.abreviatura}" />
                    </p:column>
                    <p:column headerText="Nombre" sortBy="#{actos.nombre}" filterStyle="width: 75%" 
                              filterBy="#{actos.nombre}">
                        <p:outputLabel value="#{actos.nombre}" />
                    </p:column>
                    <p:column headerText="**" width="40">
                        <p:commandLink actionListener="#{inscripcionNuevaDirecta.actoSeleccionado(actos)}">
                            <p:graphicImage value="/css/homeIconsImages/selection.png"/>   
                        </p:commandLink>
                    </p:column>
                </p:dataTable>
            </h:form>
        </p:dialog>

        <p:dialog id="dlgNotariaid" header="Seleccionar Notaria/Juzgado" widgetVar="dlgNotaria" resizable="false" modal="true" closeOnEscape="true"
                  width="600" position="center">
            <h:form id="FormNotaria">
                <p:dataTable value="#{inscripcionNuevaDirecta.listEntesJudiciales}" var="notar" style="text-align: center" filterEvent="enter"
                             paginator="true" lazy="true" rows="10" rowsPerPageTemplate="10,20,50" emptyMessage="No hay elementos."
                             paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {CurrentPageReport} {NextPageLink} {LastPageLink}">
                    <p:column headerText="Abrev." sortBy="#{notar.abreviatura}" filterBy="#{notar.abreviatura}"
                              filterStyle="width: 75%" width="100">
                        <p:outputLabel value="#{notar.abreviatura}"/>
                    </p:column>
                    <p:column headerText="Nombre" sortBy="#{notar.nombre}" filterBy="#{notar.nombre}"
                              filterStyle="width: 75%" >
                        <p:outputLabel value="#{notar.nombre}" />
                    </p:column>
                    <p:column headerText="**" width="40">
                        <p:commandLink actionListener="#{inscripcionNuevaDirecta.enteJudicialSeleccionado(notar)}">
                            <p:graphicImage value="/css/homeIconsImages/selection.png"/>   
                        </p:commandLink>
                    </p:column>
                </p:dataTable>
            </h:form>
        </p:dialog>

        <p:dialog id="dlgAgregarInterv" header="Lista de Intervinientes" widgetVar="dlgInterviniente" resizable="false" modal="true"
                  width="700" position="center" closeOnEscape="true">
            <h:form id="formAgregarInterv">
                <div style="float: right">
                    <p:commandButton value="Nuevo Interviniente" icon="ui-icon-plus" styleClass="btnStyle"
                                     actionListener="#{inscripcionNuevaDirecta.agregarNuevoInterviniente()}"/>
                </div><p:spacer width="1" height="35"/>
                <p:dataTable paginator="true" lazy="true" emptyMessage="No se encontro Clientes" rows="10" var="inte"
                             paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                             value="#{inscripcionNuevaDirecta.listIntervLazy}" style="text-align: center" filterEvent="enter">
                    <p:column headerText="CI/RUC" filterBy="#{inte.cedRuc}" sortBy="#{inte.cedRuc}" 
                              filterStyle="width: 75%;" width="120">
                        <p:outputLabel  value="#{inte.cedRuc}"/>
                    </p:column>
                    <p:column headerText="Nombre" filterBy="#{inte.nombre}" sortBy="#{inte.nombre}" 
                              filterStyle="width: 75%">
                        <p:outputLabel value="#{inte.nombre}"/>
                    </p:column>
                    <p:column headerText="Tipo" width="40">
                        <p:outputLabel value="#{inte.tipoInterv}"/>
                    </p:column>
                    <p:column headerText="**" width="40">
                        <p:commandLink actionListener="#{inscripcionNuevaDirecta.agregarInterviniente(inte)}">
                            <p:graphicImage value="/css/homeIconsImages/selection.png"/>   
                        </p:commandLink>
                    </p:column>
                </p:dataTable>
            </h:form>
        </p:dialog>

        <p:dialog id="dlgNewInterv" header="Informacion de Interviniente" widgetVar="dlgNewInter" resizable="false" modal="true" position="center">
            <h:form id="formNewInterv">
                <p:panelGrid styleClass="noBorder" >
                    <p:row>
                        <p:column colspan="2">
                            <p:outputLabel value="** En el modulo de Mantenimiento de Clientes se pueden editar los nombres del interviniente." style="color: #0033FF"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel value="Papel : " style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:selectOneMenu value="#{inscripcionNuevaDirecta.movClientNew.papel}" effect="fade" converter="entityConverter" style="width: 90%">  
                                <f:selectItem itemLabel="Seleccionar" itemValue="#{null}" /> 
                                <f:selectItems value="#{inscripcionNuevaDirecta.papelList}" var="p" itemLabel="#{p.papel}" itemValue="#{p}"/>  
                            </p:selectOneMenu>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel value="** C.I./R.U.C. :" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:inputText value="#{inscripcionNuevaDirecta.movClientNew.enteInterv.cedRuc}" style="width: 90%" readonly="true"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel value="** Nombres :" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:inputText value="#{inscripcionNuevaDirecta.movClientNew.enteInterv.nombre}" style="width: 90%" readonly="true"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel value="Domicilio:" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:selectOneMenu value="#{inscripcionNuevaDirecta.movClientNew.domicilio}" converter="entityConverter">  
                                <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}" />  
                                <f:selectItems value="#{inscripcionNuevaDirecta.catCantonsList}" var="dom" itemLabel="#{dom.nombre}" itemValue="#{dom}"/>  
                            </p:selectOneMenu>
                        </p:column>
                    </p:row>
                </p:panelGrid>
                <p:fieldset legend="Conyugue - Representante">
                    <p:panelGrid id="pngInter" styleClass="noBorder" style="width: 100%">
                        <p:row>
                            <p:column>
                                <h:outputText value="C.I.: " style="font-weight: bolder" /> 
                            </p:column>
                            <p:column>
                                <p:inputText value="#{inscripcionNuevaDirecta.movClientNew.cedula}" style="width: 80%" maxlength="20"/>
                                <p:commandButton icon="ui-icon-search" actionListener="#{inscripcionNuevaDirecta.buscarInterviniente()}" styleClass="btnStyle"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Nombre: " style="font-weight: bolder" /> 
                            </p:column>
                            <p:column>
                                <p:inputText value="#{inscripcionNuevaDirecta.movClientNew.nombres}" style="width: 90%" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Mostrar Relacion de:" style="font-weight: bolder"/>
                                <br/>
                                <p:selectOneMenu value="#{inscripcionNuevaDirecta.conyugue}">
                                    <f:selectItem itemLabel="Conyugue" itemValue="#{true}"/>
                                    <f:selectItem itemLabel="Representante" itemValue="#{false}"/>
                                    <p:ajax update="pngInter" event="change"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column>
                                <h:outputText value="Estado Civil:" style="font-weight: bolder" rendered="#{inscripcionNuevaDirecta.conyugue}"/>
                                <h:outputText value="Cargo:" style="font-weight: bolder" rendered="#{!inscripcionNuevaDirecta.conyugue}"/>
                                <br/>
                                <p:selectOneMenu value="#{inscripcionNuevaDirecta.itemSelec}" converter="entityConverter" rendered="#{inscripcionNuevaDirecta.conyugue}">  
                                    <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}" /> 
                                    <f:selectItems value="#{inscripcionNuevaDirecta.listEstadoCivil}" var="e" itemLabel="#{e.codename}" itemValue="#{e}"/>  
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{inscripcionNuevaDirecta.cargoSel}" converter="entityConverter" rendered="#{!inscripcionNuevaDirecta.conyugue}">  
                                    <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}" /> 
                                    <f:selectItems value="#{inscripcionNuevaDirecta.ctlgCargos}" var="carg" itemLabel="#{carg.nombre}" itemValue="#{carg}"/>  
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                </p:fieldset>
                <div align="center">
                    <p:commandButton value="Guardar" actionListener="#{inscripcionNuevaDirecta.agregarListaInterv()}" styleClass="btnStyle"/>
                </div>
            </h:form>
        </p:dialog>
        <!-- edicion Interviniente -->
        <p:dialog id="dlgEditInterv" header="Informacion de Interviniente" widgetVar="dlgEditInter" resizable="false" modal="true" position="center">
            <h:form id="formEditInterv">
                <p:panelGrid styleClass="noBorder" >
                    <p:row>
                        <p:column colspan="2">
                            <p:outputLabel value="** En el modulo de Mantenimiento de Clientes se pueden editar los nombres del interviniente." style="color: #0033FF"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel value="Papel : " style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:selectOneMenu value="#{inscripcionNuevaDirecta.movClientEdit.papel}" effect="fade" converter="entityConverter" style="width: 90%">  
                                <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}" /> 
                                <f:selectItems value="#{inscripcionNuevaDirecta.papelList}" var="p" itemLabel="#{p.papel}" itemValue="#{p}"/>  
                            </p:selectOneMenu>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel value="** C.I./R.U.C. :" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:inputText value="#{inscripcionNuevaDirecta.movClientEdit.enteInterv.cedRuc}" style="width: 90%" readonly="true"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel value="** Nombres :" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:inputText value="#{inscripcionNuevaDirecta.movClientEdit.enteInterv.nombre}" style="width: 90%" readonly="true"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel value="Domicilio:" style="font-weight: bolder"/>
                        </p:column>
                        <p:column>
                            <p:selectOneMenu value="#{inscripcionNuevaDirecta.movClientEdit.domicilio}" converter="entityConverter">  
                                <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}" />  
                                <f:selectItems value="#{inscripcionNuevaDirecta.catCantonsList}" var="dom" itemLabel="#{dom.nombre}" itemValue="#{dom}"/>  
                            </p:selectOneMenu>
                        </p:column>
                    </p:row>
                </p:panelGrid>
                <p:fieldset legend="Conyugue - Representante">
                    <p:panelGrid id="pngInterEdit" styleClass="noBorder" style="width: 100%" >
                        <p:row>
                            <p:column colspan="2" style="text-align: center;">
                                <p:commandButton value="Limpiar Datos" styleClass="btnStyle" actionListener="#{inscripcionNuevaDirecta.limpiarDatos()}"
                                                 update="pngInterEdit" icon="ui-icon-refresh"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="C.I.: " style="font-weight: bolder" /> 
                            </p:column>
                            <p:column>
                                <p:inputText value="#{inscripcionNuevaDirecta.movClientEdit.cedula}"/><p:spacer width="10" height="1"/>
                                <p:commandButton icon="ui-icon-search" actionListener="#{inscripcionNuevaDirecta.buscarInterviniente()}" 
                                                 update="pngInterEdit" styleClass="btnStyle"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Nombre: " style="font-weight: bolder" /> 
                            </p:column>
                            <p:column>
                                <p:inputText value="#{inscripcionNuevaDirecta.movClientEdit.nombres}" style="width: 90%" readonly="true"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Estado: " style="font-weight: bolder" /> 
                            </p:column>
                            <p:column>
                                <p:inputText value="#{inscripcionNuevaDirecta.movClientEdit.estado}" style="width: 90%" readonly="true"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputText value="Mostrar Relacion de:" style="font-weight: bolder"/>
                                <br/>
                                <p:selectOneMenu value="#{inscripcionNuevaDirecta.conyugue}">
                                    <f:selectItem itemLabel="Conyugue" itemValue="#{true}"/>
                                    <f:selectItem itemLabel="Representante" itemValue="#{false}"/>
                                    <p:ajax update="pngInterEdit" event="change"/>
                                </p:selectOneMenu>
                            </p:column>
                            <p:column>
                                <h:outputText value="Estado Civil:" style="font-weight: bolder" rendered="#{inscripcionNuevaDirecta.conyugue}"/>
                                <h:outputText value="Cargo:" style="font-weight: bolder" rendered="#{!inscripcionNuevaDirecta.conyugue}"/>
                                <br/>
                                <p:selectOneMenu value="#{inscripcionNuevaDirecta.itemSelec}" converter="entityConverter" rendered="#{inscripcionNuevaDirecta.conyugue}">  
                                    <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}" /> 
                                    <f:selectItems value="#{inscripcionNuevaDirecta.listEstadoCivil}" var="e" itemLabel="#{e.codename}" itemValue="#{e}"/>  
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{inscripcionNuevaDirecta.cargoSel}" converter="entityConverter" rendered="#{!inscripcionNuevaDirecta.conyugue}">  
                                    <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}" /> 
                                    <f:selectItems value="#{inscripcionNuevaDirecta.ctlgCargos}" var="carg" itemLabel="#{carg.nombre}" itemValue="#{carg}"/>  
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                </p:fieldset>
                <br/>
                <div align="center">
                    <p:commandButton value="Guardar" actionListener="#{inscripcionNuevaDirecta.agregarListaIntervEdit()}" 
                                     styleClass="btnStyle"/>
                </div>
            </h:form>
        </p:dialog>
        <!-- Ingreso de Interviniente -->
        <p:dialog id="dlgCrearInterviniente" header="Ingreso de Interviniente" widgetVar="dlgCrearInterv" resizable="false" modal="true" width="500">
            <h:form id="formCreaInterv">
                <p:panelGrid id="pnlBlockInter" columns="2" styleClass="noBorder" style="width: 100%">

                    <p:outputLabel value="Tipo de persona : " style="font-weight: bolder; font-size: 12px"/>
                    <p:selectOneMenu value="#{inscripcionNuevaDirecta.nuevoInterviniente.tipoInterv}">
                        <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}" />
                        <f:selectItem itemLabel="Natural" itemValue="N" />
                        <f:selectItem itemLabel="Juridica" itemValue="J" />
                        <p:ajax update="formCreaInterv" listener="#{inscripcionNuevaDirecta.actualizarApellido()}"/>
                    </p:selectOneMenu>

                    <p:outputLabel value="CI/RUC : " style="font-weight: bolder; font-size: 12px"/>
                    <p:inputText value="#{inscripcionNuevaDirecta.nuevoInterviniente.cedRuc}"/>

                    <p:outputLabel rendered="#{inscripcionNuevaDirecta.ocultarApellidos}" id="apelli" value="Apellidos : " style="font-weight: bolder; font-size: 12px"/>
                    <p:inputText rendered="#{inscripcionNuevaDirecta.ocultarApellidos}" id="inApell" value="#{inscripcionNuevaDirecta.nuevoInterviniente.apellidos}" style="width: 100%"/>

                    <p:outputLabel value="Nombres : " style="font-weight: bolder; font-size: 12px"/>
                    <p:inputText value="#{inscripcionNuevaDirecta.nuevoInterviniente.nombre}" style="width: 100%"/>

                </p:panelGrid>
                <br/>
                <div align="center">
                    <p:commandButton id="saveIntervButon" value="Guardar" actionListener="#{inscripcionNuevaDirecta.guardarInterviniente()}" icon="ui-icon-disk"/>
                </div>
            </h:form>
        </p:dialog>

        <p:dialog id="dlgInformBienInmuebleFichaid" header="Informacion: Ficha Registral - Bien Inmueble" 
                  widgetVar="dlgInfoBienInmuebleFicha" resizable="false" modal="true" width="80%" height="70%">
            <h:form id="formInfoBienInmuebFicha">
                <p:panelGrid styleClass="noBorder" style="font-size: 12px;font-weight: bolder;width: 100%;">
                    <p:row>
                        <p:column>
                            Num.Ficha:
                        </p:column>
                        <p:column>
                            <p:outputLabel value="#{inscripcionNuevaDirecta.fichaSel.numFicha}"/>
                        </p:column>
                        <p:column>
                            Parroquia:
                        </p:column>
                        <p:column>
                            <p:outputLabel value="#{inscripcionNuevaDirecta.fichaSel.parroquia.descripcion}"/>
                        </p:column>
                        <p:column>
                            Fecha Apertura:
                        </p:column>
                        <p:column>
                            <p:outputLabel value="#{inscripcionNuevaDirecta.fichaSel.fechaApe}" >
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </p:outputLabel>
                        </p:column>
                        <p:column>
                            Estado:
                        </p:column>
                        <p:column>
                            <p:outputLabel value="#{inscripcionNuevaDirecta.fichaSel.estado.valor}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            Tipo de Predio:
                        </p:column>
                        <p:column>
                            <p:outputLabel value="#{inscripcionNuevaDirecta.fichaSel.tipoPredioTemp}"/>
                        </p:column>
                        <p:column>
                            Codigo Catastral:
                        </p:column>
                        <p:column colspan="5">
                            <p:outputLabel value="#{inscripcionNuevaDirecta.fichaSel.codigoPredial}"/>
                        </p:column>
                    </p:row>
                </p:panelGrid>
                <p:tabView id="tVInformacionFicha">
                    <p:tab title="Linderos Registrales">
                        <p:inputTextarea value="#{inscripcionNuevaDirecta.fichaSel.linderos}" readonly="true" autoResize="false" scrollHeight="300"
                                         style="width: 100%;height: 350px;"/>
                    </p:tab>
                    <p:tab id="tbInformMovimientoRegist" title="Movimientos Registrales">
                        <p:dataTable value="#{inscripcionNuevaDirecta.movsByFicha}" var="mov" style="width: 99%; margin: 0px; text-align: center;" 
                                     scrollable="true" scrollHeight="250" rowIndexVar="rowIndex">
                            <p:column headerText="No" style="width: 40px">
                                #{rowIndex+1}
                            </p:column>
                            <p:column headerText="Libro">
                                <p:outputLabel value="#{mov.libro.nombre}"/>
                            </p:column>
                            <p:column headerText="Acto">
                                <p:outputLabel value="#{mov.acto.nombre}"/>
                            </p:column>
                            <p:column headerText="Inscripcion" width="100">
                                <p:outputLabel value="#{mov.numInscripcion}"/>
                            </p:column>
                            <p:column headerText="Repertorio" width="100">
                                <p:outputLabel value="#{mov.numRepertorio}"/>
                            </p:column>
                            <p:column headerText="Fec.Inscripcion" width="100">
                                <p:outputLabel value="#{mov.fechaInscripcion}">
                                    <f:convertDateTime pattern="dd/MM/yyyy"/>
                                </p:outputLabel>
                            </p:column>
                            <p:column headerText="Selec." width="50">
                                <p:commandLink actionListener="#{inscripcionNuevaDirecta.agregarMovimientosReferencia(mov)}">
                                    <p:graphicImage value="/css/homeIconsImages/selection.png"/>   
                                </p:commandLink>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                </p:tabView>
            </h:form>
        </p:dialog>

        <p:dialog id="dlgEditLinderos" header="Edicion: Ficha Registral - Bien Inmueble" 
                  widgetVar="dlgEditFichaReg" resizable="false" modal="true" width="800">
            <h:form id="formEditLinderos">
                <p:panelGrid styleClass="noBorder" style="font-size: 12px;font-weight: bolder;width: 100%;">
                    <p:row>
                        <p:column>
                            Num.Ficha:
                        </p:column>
                        <p:column>
                            <p:outputLabel value="#{inscripcionNuevaDirecta.fichaSel.numFicha}"/>
                        </p:column>
                        <p:column>
                            Parroquia:
                        </p:column>
                        <p:column>
                            <p:outputLabel value="#{inscripcionNuevaDirecta.fichaSel.parroquia.descripcion}"/>
                        </p:column>
                        <p:column>
                            Fecha Apertura:
                        </p:column>
                        <p:column>
                            <p:outputLabel value="#{inscripcionNuevaDirecta.fichaSel.fechaApe}" >
                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                            </p:outputLabel>
                        </p:column>
                        <p:column>
                            Estado:
                        </p:column>
                        <p:column>
                            <p:outputLabel value="#{inscripcionNuevaDirecta.fichaSel.estado.valor}"/>
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            Tipo de Predio:
                        </p:column>
                        <p:column>
                            <p:outputLabel value="#{inscripcionNuevaDirecta.fichaSel.tipoPredio}"/>
                        </p:column>
                        <p:column>
                            Codigo Catastral:
                        </p:column>
                        <p:column colspan="5">
                            <p:outputLabel value="#{inscripcionNuevaDirecta.fichaSel.codigoPredial}"/>
                        </p:column>
                    </p:row>
                </p:panelGrid>
                <p:fieldset legend="Edicion Linderos">
                    <p:inputTextarea value="#{inscripcionNuevaDirecta.fichaSel.linderos}" autoResize="false" scrollHeight="300"
                                     style="width: 100%;height: 300px;"/>
                </p:fieldset>
                <p:commandButton value="Guardar Modificaciones" actionListener="#{inscripcionNuevaDirecta.editarLinderosFicha()}"
                                 icon="ui-icon-home" styleClass="btnStyle"/>
            </h:form>
        </p:dialog>

        <p:dialog id="dlgSeleccionarMovimientosid" header="Seleccionar Movimientos de Referencia" widgetVar="dlgMovimientoRef" 
                  resizable="false" modal="true" closeOnEscape="true" width="900" position="center">
            <h:form id="formSeleccMovim">
                <p:dataTable id="dtMovimiento" paginator="true" lazy="true" rows="15" rowsPerPageTemplate="15,30,50" resizableColumns="true"
                             paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                             value="#{inscripcionNuevaDirecta.movimientosLazy}" var="mov" emptyMessage="No se encontraron Movimientos"
                             style="text-align: center" filterEvent="enter">
                    <p:column headerText="Libro" filterBy="#{mov.libro.nombre}" sortBy="#{mov.libro.nombre}" filterStyle="width: 95%">
                        <h:outputText  value="#{mov.libro.nombre}"/>
                    </p:column>
                    <p:column headerText="Acto" filterBy="#{mov.acto.nombre}" sortBy="#{mov.acto.nombre}" filterStyle="width: 95%">
                        <h:outputText  value="#{mov.acto.nombre}"/>
                    </p:column>
                    <p:column headerText="Inscripcion" filterBy="#{mov.numInscripcion}" sortBy="#{mov.numInscripcion}" width="100">
                        <h:outputText value="#{mov.numInscripcion}"/>
                    </p:column>
                    <p:column  headerText="Repertorio" filterBy="#{mov.numRepertorio}" sortBy="#{mov.numRepertorio}" width="100">
                        <h:outputText value="#{mov.numRepertorio}"/>
                    </p:column>
                    <p:column headerText="Fec.Inscrip." sortBy="#{mov.fechaInscripcion}" width="100">
                        <h:outputText value="#{mov.fechaInscripcion}">
                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                        </h:outputText>
                    </p:column>
                    <p:column headerText="Selec." width="50">
                        <p:commandLink actionListener="#{inscripcionNuevaDirecta.agregarMovimientosReferencia(mov)}">
                            <p:graphicImage value="/css/homeIconsImages/selection.png"/>   
                        </p:commandLink>
                    </p:column>             
                </p:dataTable>
            </h:form>
        </p:dialog>

    </ui:define>
</ui:composition>

