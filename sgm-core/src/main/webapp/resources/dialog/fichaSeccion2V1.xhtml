<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:pe="http://primefaces.org/ui/extensions"
      xmlns:h="http://java.sun.com/jsf/html">

    <!-- INTERFACE -->
    <cc:interface componentType="seccionesFicha" >
        <cc:attribute name="headerDialog"/>
        <cc:attribute name="predio" type="com.origami.sgm.entities.CatPredio" required="true"/>
        <cc:attribute name="predioant" type="com.origami.sgm.entities.CatPredio" required="true"/>
        <cc:attribute name="prestamoPredio" type="com.origami.sgm.entities.FinanPrestamoPredio" required="false"/>
        <cc:attribute name="prestamoPredioant" type="com.origami.sgm.entities.FinanPrestamoPredio" required="false"/>
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>

        <h:form id="frmSeccion2">
            <p:tab id="s2" title="2. Identificacion legal">
                <h:form id="frmTenencia">
                    <p:fieldset legend="Tenencia">
                        <p:panelGrid columns="2" layout="grid" style="width: 100%">
                            <h:outputText value="Tenencia :" style="font-weight: bolder"/>
                            <p:inputText value="#{cc.attrs.predio.propiedad.nombre}" readonly="true" styleClass="#{cc.comparar(cc.attrs.predio.propiedad.nombre, cc.attrs.predioant.propiedad.nombre)}"/>
                        </p:panelGrid>
                    </p:fieldset>
                    <p:fieldset legend="Predio Sin Título">
                        <p:panelGrid columns="2" layout="grid" style="width: 100%">
                            <h:outputText value="Requiere Perfeccionamiento :" style="font-weight: bolder"/>
                            <p:selectOneMenu value="#{cc.attrs.predio.requierePerfeccionamiento}" disabled="true" styleClass="#{cc.comparar(cc.attrs.predio.requierePerfeccionamiento, cc.attrs.predioant.requierePerfeccionamiento)}" >
                                <f:selectItem itemLabel="Seleccionar..." itemValue="#{null}"/>
                                <f:selectItem itemLabel="Si" itemValue="#{true}"/>
                                <f:selectItem itemLabel="No" itemValue="#{false}"/>
                            </p:selectOneMenu>
                            <h:outputText value="Años sin Perfeccionamiento :" style="font-weight: bolder"/>
                            <p:inputText type="num" value="#{cc.attrs.predio.aniosSinPerfeccionamiento}" readonly="true" styleClass="#{cc.comparar(cc.attrs.predio.aniosSinPerfeccionamiento, cc.attrs.predioant.aniosSinPerfeccionamiento)}" />
                            <h:outputText value="Años en Posesión :" style="font-weight: bolder"/>
                            <p:inputText type="num" value="#{cc.attrs.predio.aniosPosesion}" readonly="true" styleClass="#{cc.comparar(cc.attrs.predio.aniosPosesion, cc.attrs.predioant.aniosPosesion)}">
                                <pe:keyFilter mask="num"/>
                            </p:inputText>
                            <h:outputText value="Tipo de Poseedor :" style="font-weight: bolder"/>
                            <p:inputText  value="#{cc.attrs.predio.tipoPoseedor.valor}" readonly="true" styleClass="#{cc.comparar(cc.attrs.predio.tipoPoseedor.valor, cc.attrs.predioant.tipoPoseedor.valor)}"/>
                            <h:outputText value="Nombre Pueblo/Etnia :" style="font-weight: bolder"/>
                            <p:inputText value="#{cc.attrs.predio.nombrePuebloEtnia}" readonly="true" styleClass="#{cc.comparar(cc.attrs.predio.nombrePuebloEtnia, cc.attrs.predioant.nombrePuebloEtnia)}"/>
                        </p:panelGrid>
                    </p:fieldset>
                </h:form>
                <h:form id="frmPropietarios">
                    <p:dataTable id="dtPropietarios"  value="#{cc.attrs.predio.catPredioPropietarioCollection}" var="pp" reflow="true"
                                 paginator="true" rows="5" paginatorPosition="top" style="width: 100%" paginatorAlwaysVisible="false"
                                 rowStyleClass="#{cc.buscarObjeto(pp,cc.attrs.predioant.catPredioPropietarioCollection)}">
                        <p:column headerText="Tipo">
                            <h:outputText value="#{pp.tipo.valor}"/>
                        </p:column>
                        <p:column headerText="DNI">
                            <h:outputText value="#{pp.ente.ciRuc}"/>
                        </p:column>
                        <p:column headerText="Descripcion">
                            <h:outputText value="#{pp.ente.apellidos} #{pp.ente.nombres}" rendered="#{pp.ente.esPersona}" style="text-transform: uppercase"/>
                            <h:outputText value="#{pp.ente.razonSocial}" rendered="#{!pp.ente.esPersona}" style="text-transform: uppercase"/>
                        </p:column>
                    </p:dataTable>
                </h:form>
            </p:tab>
        </h:form>
    </cc:implementation>
</html>