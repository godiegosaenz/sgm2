<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <f:metadata>
            <f:event type="preRenderView" listener="#{prediosDLG.initView()}"/>
            <f:viewParam name="parroquia" value="#{prediosDLG.parroquia}"/>
            <f:viewParam name="zona" value="#{prediosDLG.zona}"/>
            <f:viewParam name="sector" value="#{prediosDLG.sector}"/>
            <f:viewParam name="mz" value="#{prediosDLG.mz}"/>
        </f:metadata>
    <h:head>
        <link href="#{appConfig.urlbase}resources/css/main.css" rel="stylesheet" type="text/css" />
        <title>Predios</title>
        <style type="text/css">
            .ui-widget {
                /*text-align: center;*/
                font-size: 100%;
            }
        </style>
    </h:head>
    <h:body>
        <h:form>
            <p:dataTable id="dtPredios" value="#{prediosDLG.predios}" var="pt" paginator="true" paginatorPosition="top"
                         emptyMessage="No se encontró ningun predio" rows="10" lazy="true" rowsPerPageTemplate="10,15,20, 50, 100"
                         paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {CurrentPageReport} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         selection="#{prediosDLG.predioSelect}" rowKey="#{pt.id}" widgetVar="predios" >
<!--                <f:facet name="header">
                    Listado de Predios
                    <p:commandButton id="toggler" type="button" value="Columns" style="float:right" icon="ui-icon-calculator" />
                    <p:columnToggler datasource="dtPredios" trigger="toggler" />
                </f:facet>-->
                <p:column selectionMode="multiple" style="width:15px; text-align:left; " />
                <p:column headerText="# Predio" filterStyle="width: 90%" style="text-align: center;" filterBy="#{pt.numPredio}" filterMatchMode="contains" width="8%" >
                    <h:outputText value="#{pt.numPredio}"/>
                </p:column>
                <p:column headerText="Propietario" style="text-align: center; width: 12%"  >
                    <p:outputLabel id="props" value="#{gestionPredios.nombresPropietarios(pt)}" style="font-size: 8px;" />
                    <p:tooltip for="props" value="#{gestionPredios.nombresPropietarios(pt)}"  style="color : #0066cc; background-color : #000; font-size: 10px;"/>
                </p:column>
                <p:column  id="coltipo"  filterBy="#{pt.ciudadela.nombre}" headerText="Urbanización"
                           filterOptions="#{prediosDLG.lisUrbanizaciones}" filterMatchMode="exact" width="15%" >
                    <h:outputText value="#{pt.ciudadela.nombre}" style="font-size: 10px; animation: cubic-bezier; animation-direction: alternate;"/>
                </p:column>
                <p:column width="15%" headerText="Clave Catastral" style="text-align: center;" filterBy="#{pt.predialant}" sortBy="#{pt.predialant}" filterStyle="width: 70%">
                    <h:outputText value="#{pt.claveCat}"  />
                </p:column>
                <p:column headerText="Parroquia" width="8%" style="text-align: center;" filterBy="#{pt.parroquia}" filterStyle="width: 50%">
                    <h:outputText value="#{pt.parroquia}"  />
                </p:column>
                <p:column headerText="Zona" style="text-align: center;" filterBy="#{pt.zona}" filterStyle="width: 50%">
                    <h:outputText value="#{pt.zona}"/>
                </p:column>
                <p:column headerText="Sector" style="text-align: center;" filterBy="#{pt.sector}" filterStyle="width: 50%">
                    <h:outputText value="#{pt.sector}"/>
                </p:column>
                <p:column headerText="MZ" style="text-align: center;" filterBy="#{pt.mz}" sortBy="#{pt.mz}" filterStyle="width: 50%">
                    <h:outputText value="#{pt.mz}"/>
                </p:column>
                <p:column headerText="Lote" style="text-align: center;" filterBy="#{pt.solar}"  sortBy="#{pt.solar}" filterStyle="width: 50%">
                    <h:outputText value="#{pt.solar}"/>
                </p:column>
                <p:column headerText="Bloque" width="8%" style="text-align: center;" filterBy="#{pt.bloque}"  sortBy="#{pt.bloque}" filterStyle="width: 50%">
                    <h:outputText value="#{pt.bloque}"/>
                </p:column>
                <p:column headerText="Piso" style="text-align: center;" filterBy="#{pt.piso}"  sortBy="#{pt.piso}" filterStyle="width: 50%">
                    <h:outputText value="#{pt.piso}"/>
                </p:column>
                <p:column headerText="Unidad" style="text-align: center;" filterBy="#{pt.unidad}"  sortBy="#{pt.unidad}" filterStyle="width: 50%">
                    <h:outputText value="#{pt.unidad}"/>
                </p:column>
            </p:dataTable>
            <center>
                <p:commandButton value="Seleccionar" actionListener="#{prediosDLG.seleccionarPredios()}" styleClass="btnStyle"/>
            </center>
        </h:form>
    </h:body>
</html>

